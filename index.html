<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LandingCraft Pro - Enterprise Landing Page Solutions</title>
  <meta name="description" content="Professional landing page templates and custom development services. Trusted by Fortune 500 companies. ROI-focused designs with enterprise support."/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root{
      --primary: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary: #059669;
      --accent: #dc2626;
      --warning: #d97706;
      --success: #16a34a;
      --bg: #0f172a;
      --bg-light: #1e293b;
      --panel: #334155;
      --text: #f8fafc;
      --text-muted: #94a3b8;
      --text-dark: #475569;
      --border: rgba(255,255,255,0.1);
      --glass: rgba(255,255,255,0.05);
      --radius: 12px;
      --shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
      --shadow-lg: 0 35px 80px -15px rgba(0,0,0,0.3);
      --maxw: 1400px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, var(--bg) 0%, #1a202c 100%);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Enhanced Navigation */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      z-index: 1000;
      padding: 0 2rem;
      transition: all 0.3s ease;
    }

    .navbar.scrolled {
      background: rgba(15, 23, 42, 0.98);
      box-shadow: var(--shadow);
    }

    .nav-content {
      max-width: var(--maxw);
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 80px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 800;
      font-size: 1.5rem;
      color: var(--primary);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      position: relative;
    }

    .logo-icon::after {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      opacity: 0.3;
      z-index: -1;
      animation: pulse 2s ease-in-out infinite;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      padding: 0.5rem 0;
    }

    .nav-links a:hover, .nav-links a.active {
      color: var(--primary);
      transform: translateY(-2px);
    }

    .nav-links a.active::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--primary);
      border-radius: 1px;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .search-box {
      position: relative;
      display: flex;
      align-items: center;
    }

    .search-input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.5rem 2.5rem 0.5rem 1rem;
      color: var(--text);
      font-size: 0.9rem;
      width: 200px;
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
      width: 250px;
    }

    .search-btn {
      position: absolute;
      right: 0.5rem;
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .search-btn:hover {
      color: var(--primary);
    }

    .mobile-menu {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 4px;
    }

    .mobile-menu span {
      width: 25px;
      height: 3px;
      background: var(--text);
      border-radius: 2px;
      transition: 0.3s;
    }

    /* Main Content */
    .main-content {
      margin-top: 80px;
      min-height: calc(100vh - 80px);
    }

    .CONTAINER {
      MAX-WIDTH: VAR(--MAXW);
      MARGIN: 0 AUTO;
      MARGIN-TOP:50PX;
      PADDING: 0 2REM;
    }
.container {
  max-width: var(--maxw);
  margin: 0 auto;
  padding-top: 50px;
  padding-bottom: 50px;
  padding-left: 2rem;
  padding-right: 2rem;
  box-sizing: border-box;
}




    /* Enhanced Hero Section */
    .hero {
      padding: 8rem 0;
      text-align: center;
      background: radial-gradient(circle at 50% 50%, rgba(37, 99, 235, 0.1) 0%, transparent 70%);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(37,99,235,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      animation: float 30s ease-in-out infinite;
    }

    .hero-particles {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--primary);
      border-radius: 50%;
      opacity: 0.3;
      animation: particle-float 20s linear infinite;
    }

    @keyframes particle-float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.3;
      }
      90% {
        opacity: 0.3;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(30px, -30px) rotate(120deg); }
      66% { transform: translate(-20px, 20px) rotate(240deg); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.3; }
      50% { transform: scale(1.1); opacity: 0.1; }
    }

    .hero-content {
      position: relative;
      z-index: 2;
    }

    .hero h1 {
      font-size: 4.5rem;
      font-weight: 900;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.1;
      animation: fadeInUp 1s ease 0.5s both;
    }

    .hero-subtitle {
      font-size: 1.5rem;
      color: var(--text-muted);
      margin-bottom: 2rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      font-weight: 400;
      animation: fadeInUp 1s ease 0.7s both;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-bottom: 3rem;
      flex-wrap: wrap;
      animation: fadeInUp 1s ease 0.9s both;
    }

    .hero-stat {
      text-align: center;
      transition: transform 0.3s ease;
    }

    .hero-stat:hover {
      transform: translateY(-5px);
    }

    .hero-stat-number {
      font-size: 2rem;
      font-weight: 800;
      color: var(--primary);
      counter-reset: number;
      animation: countUp 2s ease-in-out;
    }

    .hero-stat-label {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .hero-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      animation: fadeInUp 1s ease 1.1s both;
    }

    .hero-video-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .hero-video-btn:hover {
      color: var(--primary);
      transform: translateX(5px);
    }

    .play-icon {
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .play-icon:hover {
      background: var(--primary);
      border-color: var(--primary);
      transform: scale(1.1);
    }

    /* Enhanced Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 16px 32px;
      border-radius: var(--radius);
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.5s ease;
    }

    .btn:hover::before {
      transform: translateX(100%);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      box-shadow: var(--shadow);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 35px 60px -12px rgba(37, 99, 235, 0.4);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text);
      border: 1px solid var(--border);
      backdrop-filter: blur(10px);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.15);
      border-color: var(--primary);
      transform: translateY(-2px);
    }

    .btn-outline {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
    }

    .btn-outline:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }

    .btn-success {
      background: linear-gradient(135deg, var(--secondary), var(--success));
      color: white;
    }

    .btn-danger {
      background: linear-gradient(135deg, var(--accent), #b91c1c);
      color: white;
    }

    /* Enhanced Cards */
    .card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      backdrop-filter: blur(20px);
      transition: all 0.4s ease;
      overflow: hidden;
      position: relative;
    }

    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .card:hover::before {
      opacity: 1;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary);
    }

    .card-body {
      padding: 2rem;
      position: relative;
      z-index: 1;
    }

    .card-header {
      padding: 1.5rem 2rem;
      border-bottom: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.02);
      position: relative;
      z-index: 1;
    }

    /* Grid Layouts */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 2rem;
    }

    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    .grid-4 {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2rem;
    }

    /* Enhanced Template Gallery */
    .template-gallery {
      padding: 8rem 0;
      background: linear-gradient(180deg, transparent 0%, rgba(37, 99, 235, 0.03) 100%);
    }

    .template-filter {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0 4rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 0.75rem 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-btn.active,
    .filter-btn:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .template-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 3rem;
      margin-top: 4rem;
    }

    .template-card {
      background: var(--bg-light);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
      transition: all 0.4s ease;
      position: relative;
    }

    .template-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 40px 80px -20px rgba(0,0,0,0.4);
      border-color: var(--primary);
    }

    .template-preview {
      height: 280px;
      background: black;
      position: relative;
      overflow: hidden;
    }

    .template-preview iframe {
      width: 100%;
      height: 100%;
      border: none;
      transform: scale(0.8);
      transform-origin: top left;
      width: 125%;
      height: 125%;
    }

    .template-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .template-card:hover .template-overlay {
      opacity: 1;
    }

    .template-overlay .btn {
      margin: 0 0.5rem;
    }

    .template-info {
      padding: 2rem;
    }

    .template-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--text);
    }

    .template-category {
      display: inline-block;
      background: var(--primary);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      margin-bottom: 1rem;
    }

    .template-rating {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .stars {
      color: #fbbf24;
    }

    .template-description {
      color: var(--text-muted);
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .template-features {
      list-style: none;
      margin-bottom: 1.5rem;
    }

    .template-features li {
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-bottom: 0.25rem;
    }

    .template-features li:before {
      content: '✓';
      color: var(--secondary);
      font-weight: bold;
      margin-right: 0.5rem;
    }

    .template-price {
      font-size: 2rem;
      font-weight: 800;
      color: var(--secondary);
      margin-bottom: 1.5rem;
    }

    .template-actions {
      display: flex;
      gap: 0.75rem;
    }

  can you turn the chat widget into a full ai and interactive chat. I want it to actually transfert he user, and do all inquiries and orders and actions wanted from the user. also, provide al lthe infromation presnet on this page


    /* Enhanced Features Section */
    .features {
      padding: 8rem 0;
      background: rgba(255, 255, 255, 0.02);
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 3rem;
      margin-top: 4rem;
    }

    .feature-card {
      text-align: center;
      padding: 3rem 2rem;
      position: relative;
    }

    .feature-icon {
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 2rem;
      font-size: 2.5rem;
      position: relative;
      transition: transform 0.3s ease;
    }

    .feature-card:hover .feature-icon {
      transform: scale(1.1) rotate(10deg);
    }

    .feature-icon::after {
      content: '';
      position: absolute;
      inset: -10px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      opacity: 0.2;
      z-index: -1;
      animation: pulse 2s ease-in-out infinite;
    }

    .feature-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text);
    }

    .feature-description {
      color: var(--text-muted);
      line-height: 1.7;
    }

    /* Analytics Dashboard */
    .analytics-preview {
      background: var(--bg-light);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      margin: 2rem 0;
    }

    .chart-container {
      height: 200px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      position: relative;
      overflow: hidden;
    }

    .chart-line {
      position: absolute;
      bottom: 20px;
      left: 20px;
      right: 20px;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 1px;
    }

    .chart-points {
      position: absolute;
      inset: 20px;
    }

    .chart-point {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--secondary);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--secondary);
    }


.enterprise-logo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1.25rem;
  align-items: center;
  justify-items: center;
  margin: 0 auto;
  width: 100%;
  max-width: 1000px;
}
.enterprise-logo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  column-gap: 30px; /* horizontal spacing */
  row-gap: 20px;    /* (optional) vertical spacing, adjust as you like */
  align-items: center;
  justify-items: center;
  margin: 0 auto;
  width: 100%;
  max-width: 1450px;
}


.enterprise-logo:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.35);
}

.enterprise-logo img {
  max-height: 44px;
  max-width: 100%;
  object-fit: contain;
  transition: filter 180ms ease, opacity 180ms ease, transform 180ms ease;
}

.enterprise-logo:hover img {
  filter: none;
  opacity: 1;
  transform: scale(1.02);
}

/* Keep text fallback centered (in case image not loaded) */
.enterprise-logo .logo-fallback {
  font-weight: 700;
  color: var(--text-muted);
  font-size: 0.9rem;
}
    /* Enhanced Modal */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      padding: 2rem;
      animation: fadeIn 0.3s ease;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--bg-light);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      width: 100%;
      max-width: 1200px;
      max-height: 90vh;
      overflow-y: auto;
      animation: slideInUp 0.3s ease;
    }

    .modal-header {
      padding: 1.5rem 2rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.02);
    }

    .modal-body {
      padding: 2rem;
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0;
    }

    .close-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: var(--accent);
      color: white;
    }

    /* Enhanced Pricing Section */
    .pricing {
      padding: 8rem 0;
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, rgba(5, 150, 105, 0.03) 100%);
    }

    .pricing-toggle {
      display: flex;
      justify-content: center;
      margin-bottom: 4rem;
    }

    .toggle-container {
      background: var(--bg-light);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.5rem;
      display: flex;
      position: relative;
    }

    .toggle-option {
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      position: relative;
      z-index: 1;
    }

    .toggle-option.active {
      background: var(--primary);
      color: white;
    }

    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 3rem;
      margin-top: 4rem;
    }

    .pricing-card {
      position: relative;
      transition: transform 0.3s ease;
    }


    .pricing-header {
      text-align: center;
      padding: 2rem;
      border-bottom: 1px solid var(--border);
    }

    .pricing-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .pricing-price {
      font-size: 3rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .pricing-period {
      color: var(--text-muted);
    }

    .pricing-features {
      padding: 2rem;
    }

    .pricing-features ul {
      list-style: none;
      margin-bottom: 2rem;
    }

    .pricing-features li {
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .pricing-features li:before {
      content: '✓';
      color: var(--secondary);
      font-weight: bold;
    }

    .pricing-features li.unavailable {
      color: var(--text-muted);
    }

    .pricing-features li.unavailable:before {
      content: '✗';
      color: var(--text-muted);
    }

    /* Progress Bar */
    .progress-bar {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
      height: 8px;
      margin: 1rem 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      border-radius: 10px;
      transition: width 1s ease-in-out;
    }

    /* Toast Notifications */
    .toast {
      position: fixed;
      top: 100px;
      right: 2rem;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      z-index: 10000;
      animation: slideIn 0.3s ease;
      box-shadow: var(--shadow);
      min-width: 300px;
      max-width: 400px;
    }

    .toast.success { background: var(--success); }
    .toast.error { background: var(--accent); }
    .toast.info { background: var(--primary); }
    .toast.warning { background: var(--warning); }

    /* Form Styles */
    .form-control {
      width: 100%;
      padding: 12px 16px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
      background: rgba(255, 255, 255, 0.08);
    }

    .form-control::placeholder {
      color: var(--text-muted);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text);
    }

    /* Loading States */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s ease-in-out infinite;
    }

    .success-check {
      display: inline-block;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--secondary);
      color: white;
      text-align: center;
      line-height: 20px;
      font-size: 12px;
      animation: success 0.5s ease-in-out;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideInUp {
      from { transform: translateY(30px) scale(0.95); opacity: 0; }
      to { transform: translateY(0) scale(1); opacity: 1; }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes success {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    @keyframes countUp {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(15, 23, 42, 0.98);
        backdrop-filter: blur(20px);
        flex-direction: column;
        padding: 2rem;
        border-top: 1px solid var(--border);
      }

      .nav-links.active {
        display: flex;
      }

      .nav-actions {
        display: none;
      }

      .mobile-menu {
        display: flex;
      }

      .hero {
        padding: 4rem 0;
      }

      .hero h1 {
        font-size: 3rem;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: stretch;
      }

      .grid-2 {
        grid-template-columns: 1fr;
      }

      .grid-3 {
        grid-template-columns: 1fr;
      }

      .grid-4 {
        grid-template-columns: repeat(2, 1fr);
      }

      .hero-stats {
        gap: 1.5rem;
      }

      .template-grid {
        grid-template-columns: 1fr;
      }

      .pricing-card.featured {
        transform: none;
      }

      .chat-window {
        width: calc(100vw - 4rem);
        right: 2rem;
      }

      .search-input {
        width: 150px;
      }

      .search-input:focus {
        width: 180px;
      }
    }

    /* Utilities */
    .text-center { text-align: center; }
    .text-left { text-align: left; }
    .text-right { text-align: right; }
    .mb-0 { margin-bottom: 0 !important; }
    .mb-1 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 2rem; }
    .mt-1 { margin-top: 1rem; }
    .mt-2 { margin-top: 2rem; }
    .hidden { display: none !important; }
    .flex { display: flex; }
    .items-center { align-items: center; }
    .justify-between { justify-content: space-between; }
    .justify-center { justify-content: center; }
    .gap-1 { gap: 1rem; }
    .w-full { width: 100%; }
    .opacity-50 { opacity: 0.5; }
    .pointer-events-none { pointer-events: none; }
    
    .lc-chat-widget { position: fixed; right: 24px; bottom: 24px; z-index: 9999; font-family: inherit; }
.lc-chat-panel { width: 360px; max-width: calc(100vw - 48px); height: 520px; background: linear-gradient(180deg,#0f1724,#071028); color:#fff; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.6); overflow:hidden; display:flex; flex-direction:column; transform:translateY(20px); transition:all .28s ease; }
.lc-chat-panel.hidden { transform: translateY(12px) scale(.98); opacity:0; pointer-events:none; }
.lc-chat-header { display:flex; align-items:center; gap:12px; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,0.03); }
.lc-chat-header .avatar { width:44px; height:44px; border-radius:999px; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg,var(--primary,#2563eb),var(--secondary,#7c3aed)); font-size:20px; }
.lc-chat-header h4 { margin:0; font-size:16px; font-weight:700; }
.lc-chat-body { padding:12px; overflow:auto; flex:1; display:flex; flex-direction:column; gap:10px; }
.lc-chat-msg { max-width:85%; padding:10px 12px; border-radius:10px; line-height:1.35; font-size:14px; }
.lc-chat-msg.user { align-self:flex-end; background:#1e3a8a; color:white; border-bottom-right-radius:4px; }
.lc-chat-msg.ai { align-self:flex-start; background: rgba(255,255,255,0.04); color:#f8fafc; border-bottom-left-radius:4px; }
.lc-typing { display:flex; align-items:center; gap:8px; opacity:0.9; font-size:13px; color: #cbd5e1; }
.lc-chat-footer { padding:10px; border-top:1px solid rgba(255,255,255,0.03); background:linear-gradient(180deg,transparent,rgba(0,0,0,0.04)); }
.lc-input-row { display:flex; gap:8px; }
.lc-input { flex:1; min-height:44px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); color:#fff; padding:10px 12px; border-radius:8px; outline:none; }
.lc-send-btn { background:var(--primary,#10b981); color:white; border:none; padding:10px 12px; border-radius:8px; cursor:pointer; }
.lc-toggle-btn { width:56px; height:56px; border-radius:999px; display:flex; align-items:center; justify-content:center; background:var(--primary,#2563eb); color:white; border:none; box-shadow:0 6px 20px rgba(37,99,235,0.25); cursor:pointer; }
.lc-notify { position:absolute; top:-6px; right:-6px; background:#ef4444; color:#fff; font-size:12px; padding:4px 6px; border-radius:999px; }

/* Responsive */
@media (max-width: 640px) {
  .lc-chat-panel { width: calc(100vw - 32px); right:16px; left:16px; bottom:16px; height: 70vh; max-height: 80vh; }
  .lc-toggle-btn { width:50px; height:50px; }
}


.footer {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: var(--text);
  border-top: 1px solid var(--border);
  padding: 3rem 1rem;
  font-family: inherit;
  line-height: 1.5;
}

.footer .container {
  max-width: var(--maxw);
  margin: 0 auto;
  padding: 0 1rem;
}

/* Grid */
.footer-grid {
  display: grid;
  gap: 2rem;
  grid-template-columns: repeat(1, 1fr);
  margin-bottom: 2rem;
}

@media (min-width: 640px) {
  .footer-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 980px) {
  .footer-grid { grid-template-columns: repeat(4, 1fr); }
}

.footer-section h3 {
  margin: 0 0 0.75rem 0;
  font-size: 1.02rem;
  font-weight: 700;
  color: var(--text);
  position: relative;
  padding-bottom: 0.5rem;
}

/* small decorative underline */
.footer-section h3::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 36px;
  height: 3px;
  border-radius: 3px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  opacity: 0.12;
}

/* link list */
.footer-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 0.45rem;
}

.footer-section li a {
  color: var(--text-muted);
  text-decoration: none;
  font-size: 0.95rem;
  display: inline-block;
  padding: 6px 8px;
  border-radius: 8px;
  transition: transform 160ms ease, color 160ms ease, background-color 160ms ease;
}

/* hover and focus */
.footer-section li a:hover,
.footer-section li a:focus {
  color: var(--text);
  background: rgba(255,255,255,0.03);
  transform: translateY(-2px);
  outline: none;
}
.footer-section li a:focus-visible {
  box-shadow: 0 0 0 4px rgba(37,99,235,0.09);
  border-radius: 8px;
}

/* footer bottom */
.footer-bottom {
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid var(--border);
  padding-top: 1rem;
  flex-direction: column;
  text-align: center;
}

@media (min-width: 720px) {
  .footer-bottom {
    flex-direction: row;
    text-align: left;
  }
}

.footer-bottom p {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.95rem;
}

/* social icons */
.footer-social {
  display: flex;
  gap: 0.6rem;
  align-items: center;
  justify-content: center;
}

.footer-social a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  text-decoration: none;
  color: var(--text-muted);
  background: transparent;
  font-size: 16px;
  transition: transform 160ms ease, background-color 160ms ease, color 160ms ease;
  border: 1px solid transparent;
}

/* hover/focus for social */
.footer-social a:hover,
.footer-social a:focus {
  transform: translateY(-4px) scale(1.02);
  background: rgba(255,255,255,0.03);
  color: var(--primary);
  border-color: rgba(255,255,255,0.03);
}
.footer-social a:focus-visible {
  box-shadow: 0 0 0 4px rgba(37,99,235,0.09);
  outline: none;
}

/* subtle separators for small screens */
@media (max-width: 479px) {
  .footer {
    padding: 2rem 0.75rem;
  }
  .footer-social a { width: 36px; height: 36px; font-size:14px; }
}

/* optional helper to pin footer to bottom of viewport */
.footer.sticky {
  position: sticky;
  bottom: 0;
  z-index: 40;
}

/* utility: visually-hidden (for screen reader labels or skip links) */
.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* ensure good contrast for small text */
.footer small, .footer .muted {
  color: var(--text-muted);
  font-size: 0.9rem;
}
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="nav-content">
      <div class="logo" onclick="scrollToSection('home')">
        <div class="logo-icon">LC</div>
        LandingCraft Pro
      </div>
      
      <ul class="nav-links" id="navLinks">
        <li><a href="#home" class="nav-link active" onclick="scrollToSection('home')">Home</a></li>
        <li><a href="#templates" class="nav-link" onclick="scrollToSection('templates')">Templates</a></li>
        <li><a href="#features" class="nav-link" onclick="scrollToSection('features')">Features</a></li>
        <li><a href="#pricing" class="nav-link" onclick="scrollToSection('pricing')">Pricing</a></li>
        <li><a href="#enterprise" class="nav-link" onclick="scrollToSection('enterprise')">Enterprise</a></li>
        <li><a href="#contact" class="nav-link" onclick="scrollToSection('contact')">Contact</a></li>
      </ul>

      <div class="nav-actions">
        <div class="search-box">
          <input type="text" class="search-input" placeholder="Search templates..." id="searchInput">
          <button class="search-btn" onclick="performSearch()">
            <i class="fas fa-search"></i>
          </button>
        </div>
        <button class="btn btn-primary" onclick="openDemoModal()">
          <i class="fas fa-play"></i>
          Demo
        </button>
      </div>

      <div class="mobile-menu" id="mobileMenu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Hero Section -->
    <section id="home" class="hero">
      <div class="hero-particles" id="heroParticles"></div>
      <div class="container">
        <div class="hero-content">
          <h1>Enterprise Landing Solutions</h1>
          <p class="hero-subtitle">Professional landing pages that convert. Trusted by Fortune 500 companies worldwide. ROI-focused designs with enterprise-grade support and customization.</p>
          
          <div class="hero-stats">
            <div class="hero-stat" data-target="500">
              <div class="hero-stat-number">0+</div>
              <div class="hero-stat-label">Enterprise Clients</div>
            </div>
            <div class="hero-stat" data-target="98">
              <div class="hero-stat-number">0%</div>
              <div class="hero-stat-label">Client Satisfaction</div>
            </div>
            <div class="hero-stat" data-target="147">
              <div class="hero-stat-number">0%</div>
              <div class="hero-stat-label">Avg ROI Increase</div>
            </div>
            <div class="hero-stat" data-target="24">
              <div class="hero-stat-number">0/7</div>
              <div class="hero-stat-label">Support Available</div>
            </div>
          </div>
          
          <div class="hero-buttons">
            <button class="btn btn-primary" onclick="scrollToSection('templates')">
              <i class="fas fa-rocket"></i>
              View Templates
            </button>
            <button class="btn btn-outline" onclick="scrollToSection('enterprise')">
              <i class="fas fa-building"></i>
              Enterprise Solutions
            </button>
            <a href="#" class="hero-video-btn" onclick="openVideoModal()">
              <div class="play-icon">
                <i class="fas fa-play"></i>
              </div>
              Watch Demo Video
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
      <div class="container">
        <h2 class="text-center mb-2" style="font-size: 3rem; font-weight: 800;">Why Choose LandingCraft Pro</h2>
        <p class="text-center text-muted mb-2" style="font-size: 1.3rem; max-width: 700px; margin: 0 auto 4rem;">Enterprise-grade features built for scale, performance, and conversion optimization</p>
        
        <div class="features-grid">
          <div class="feature-card card">
            <div class="feature-icon">🎯</div>
            <h3 class="feature-title">Conversion Optimized</h3>
            <p class="feature-description">Every template is built using proven conversion principles and A/B tested elements. Average conversion rates 3x higher than industry standards.</p>
            
            <div class="analytics-preview">
              <h4 style="margin-bottom: 1rem; color: var(--text);">Conversion Analytics</h4>
              <div class="chart-container">
                <div class="chart-line"></div>
                <div class="chart-points">
                  <div class="chart-point" style="left: 10%; bottom: 30%;"></div>
                  <div class="chart-point" style="left: 30%; bottom: 50%;"></div>
                  <div class="chart-point" style="left: 50%; bottom: 70%;"></div>
                  <div class="chart-point" style="left: 70%; bottom: 85%;"></div>
                  <div class="chart-point" style="left: 90%; bottom: 90%;"></div>
                </div>
                <div style="position: absolute; bottom: 10px; left: 20px; font-size: 0.8rem; color: var(--text-muted);">
                  +247% Conversion Increase
                </div>
              </div>
            </div>
          </div>
          
          <div class="feature-card card">
            <div class="feature-icon">🏢</div>
            <h3 class="feature-title">Enterprise Ready</h3>
            <p class="feature-description">SSO integration, custom domains, white-label solutions, and dedicated account management for enterprise clients.</p>
            
            <div style="margin-top: 1.5rem;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                <span>Security Score</span>
                <span style="color: var(--secondary); font-weight: 600;">98%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 98%;"></div>
              </div>
              
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                <span>Uptime SLA</span>
                <span style="color: var(--secondary); font-weight: 600;">99.9%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 99.9%;"></div>
              </div>
            </div>
          </div>
          
          <div class="feature-card card">
            <div class="feature-icon">⚡</div>
            <h3 class="feature-title">Lightning Fast</h3>
            <p class="feature-description">Optimized for Core Web Vitals with 99.9% uptime SLA. Pages load in under 2 seconds globally via enterprise CDN.</p>
            
            <div style="margin-top: 1.5rem; text-align: left;">
              <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--border);">
                <span>Page Load Time</span>
                <span style="color: var(--secondary); font-weight: 600;">1.2s</span>
              </div>
              <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--border);">
                <span>Core Web Vitals</span>
                <span style="color: var(--secondary); font-weight: 600;">95/100</span>
              </div>
              <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                <span>Global CDN</span>
                <span style="color: var(--secondary); font-weight: 600;">180+ Locations</span>
              </div>
            </div>
          </div>
          
          <div class="feature-card card">
            <div class="feature-icon">📊</div>
            <h3 class="feature-title">Advanced Analytics</h3>
            <p class="feature-description">Deep insights with heatmaps, conversion funnels, and custom event tracking. Enterprise reporting with scheduled exports.</p>
            
            <button class="btn btn-secondary w-full" style="margin-top: 1rem;" onclick="openAnalyticsDemo()">
              <i class="fas fa-chart-line"></i>
              View Analytics Demo
            </button>
          </div>
          
          <div class="feature-card card">
            <div class="feature-icon">🔒</div>
            <h3 class="feature-title">Security & Compliance</h3>
            <p class="feature-description">SOC 2 Type II compliant with GDPR and CCPA ready. Enterprise-grade security with SSL and DDoS protection.</p>
            
            <div style="margin-top: 1rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; text-align: center;">
              <div style="background: rgba(255,255,255,0.05); padding: 0.5rem; border-radius: 6px; font-size: 0.8rem;">
                <div style="font-weight: 600; color: var(--secondary);">SOC 2</div>
                <div style="color: var(--text-muted);">Type II</div>
              </div>
              <div style="background: rgba(255,255,255,0.05); padding: 0.5rem; border-radius: 6px; font-size: 0.8rem;">
                <div style="font-weight: 600; color: var(--secondary);">GDPR</div>
                <div style="color: var(--text-muted);">Compliant</div>
              </div>
              <div style="background: rgba(255,255,255,0.05); padding: 0.5rem; border-radius: 6px; font-size: 0.8rem;">
                <div style="font-weight: 600; color: var(--secondary);">SSL</div>
                <div style="color: var(--text-muted);">256-bit</div>
              </div>
              <div style="background: rgba(255,255,255,0.05); padding: 0.5rem; border-radius: 6px; font-size: 0.8rem;">
                <div style="font-weight: 600; color: var(--secondary);">DDoS</div>
                <div style="color: var(--text-muted);">Protected</div>
              </div>
            </div>
          </div>
          
          <div class="feature-card card">
            <div class="feature-icon">🛠️</div>
            <h3 class="feature-title">Custom Development</h3>
            <p class="feature-description">Full custom development services with dedicated teams. API integrations, custom features, and ongoing support.</p>
            
            <button class="btn btn-primary w-full" style="margin-top: 1rem;" onclick="openCustomDevelopmentModal()">
              <i class="fas fa-code"></i>
              Request Custom Quote
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Template Gallery -->
<section id="templates" class="template-gallery">
  <div class="container">
    <h2 class="text-center mb-2" style="font-size: 3rem; font-weight: 800;">Professional Templates</h2>
    <p class="text-center text-muted mb-2" style="font-size: 1.3rem;">Industry-specific templates designed by conversion experts</p>
    
    <div class="template-filter">
      <button class="filter-btn active" data-filter="all" onclick="filterTemplates('all')">All Templates</button>
      <button class="filter-btn" data-filter="business" onclick="filterTemplates('business')">Business</button>
      <button class="filter-btn" data-filter="saas" onclick="filterTemplates('saas')">SaaS</button>
      <button class="filter-btn" data-filter="legal" onclick="filterTemplates('legal')">Legal</button>
      <button class="filter-btn" data-filter="healthcare" onclick="filterTemplates('healthcare')">Healthcare</button>
      <button class="filter-btn" data-filter="ecommerce" onclick="filterTemplates('ecommerce')">E-commerce</button>
      <button class="filter-btn" data-filter="realestate" onclick="filterTemplates('realestate')">Real Estate</button>
    </div>
    
    <div class="template-grid" id="templateGrid">
      <!-- Enterprise Consulting Template -->
      <div class="template-card" data-category="legal">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:Arial,sans-serif;background:#f8fafc;color:#1e293b;}header{background:#1e40af;color:white;text-align:center;padding:3rem 0;}h1{font-size:2.5rem;margin-bottom:0.5rem;}p{font-size:1.1rem;margin-bottom:2rem;opacity:0.9;}.cta{background:#dc2626;color:white;padding:1rem 2rem;text-decoration:none;border-radius:8px;font-weight:600;}.features{padding:3rem 1rem;text-align:center;}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:2rem;}.feature{background:white;padding:2rem;border-radius:12px;box-shadow:0 4px 6px rgba(0,0,0,0.1);}.feature h3{color:#1e40af;margin-bottom:1rem;}</style></head><body><header><h1>Strategic Consulting</h1><p>Transform your business with expert guidance</p><a href='#' class='cta'>Get Started Today</a></header><section class='features'><h2>Why Choose Our Services</h2><div class='grid'><div class='feature'><h3>Expert Analysis</h3><p>Deep market insights and strategic recommendations</p></div><div class='feature'><h3>Proven Results</h3><p>Track record of 200% ROI improvements</p></div><div class='feature'><h3>Ongoing Support</h3><p>Dedicated account management and support</p></div></div></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('legal')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('legal')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">Legal</div>
          <h3 class="template-title">Legal Authority</h3>
          <div class="template-rating">
            <div class="stars">★★★★★</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(156 reviews)</span>
          </div>
          <p class="template-description">Professional legal services template with practice area showcases, attorney profiles, and consultation booking.</p>
          <ul class="template-features">
            <li>Attorney biography sections</li>
            <li>Case results showcase</li>
            <li>Consultation scheduling</li>
            <li>Client testimonials</li>
          </ul>
          <div class="template-price">$397</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('legal')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('legal')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>

      <!-- Executive Consulting (Business) -->
      <div class="template-card" data-category="business">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:Georgia,serif;background:#fff;color:#111827;}header{background:#111827;color:white;padding:3rem 0;text-align:center;}h1{font-size:2.2rem;margin-bottom:0.5rem;}p{font-size:1.05rem;margin-bottom:1.5rem;}.cta{background:#2563eb;color:white;padding:1rem 2rem;border-radius:8px;text-decoration:none;}</style></head><body><header><h1>Executive Consulting</h1><p>High-value services with white-glove positioning</p><a href='#' class='cta'>Schedule a Call</a></header><section style='padding:2rem;text-align:center;'><h2>Trusted Results</h2><p>Case studies, enterprise processes and ROI-driven delivery.</p></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('consulting')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('consulting')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">Business</div>
          <h3 class="template-title">Executive Consulting</h3>
          <div class="template-rating">
            <div class="stars">★★★★★</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(127 reviews)</span>
          </div>
          <p class="template-description">Professional consulting template with case studies, testimonials, and strategic positioning for high-value services.</p>
          <ul class="template-features">
            <li>Lead capture optimization</li>
            <li>Case study sections</li>
            <li>ROI calculators</li>
            <li>Enterprise testimonials</li>
          </ul>
          <div class="template-price">$297</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('consulting')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('consulting')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>

      <!-- SaaS Platform Template -->
      <div class="template-card" data-category="saas">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:system-ui,sans-serif;background:#0f172a;color:#f8fafc;}header{background:linear-gradient(135deg,#6366f1,#8b5cf6);padding:4rem 0;text-align:center;}h1{font-size:3rem;margin-bottom:1rem;}p{font-size:1.2rem;margin-bottom:2rem;opacity:0.9;}.cta{background:#10b981;color:white;padding:1.2rem 2.5rem;text-decoration:none;border-radius:8px;font-weight:700;}.pricing{padding:3rem 1rem;background:#1e293b;}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:2rem;}.plan{background:#334155;padding:2rem;border-radius:12px;text-align:center;}.plan h3{color:#6366f1;margin-bottom:1rem;}.price{font-size:2.5rem;font-weight:800;color:#10b981;}.btn{background:#6366f1;color:white;padding:1rem;border:none;border-radius:6px;width:100%;margin-top:1rem;cursor:pointer;}</style></head><body><header><h1>SaaS Platform</h1><p>Streamline your workflow with our powerful tools</p><a href='#' class='cta'>Start Free Trial</a></header><section class='pricing'><h2 style='text-align:center;margin-bottom:2rem;'>Simple Pricing</h2><div class='grid'><div class='plan'><h3>Starter</h3><div class='price'>$29<span style='font-size:1rem;'>/mo</span></div><button class='btn'>Get Started</button></div><div class='plan'><h3>Professional</h3><div class='price'>$79<span style='font-size:1rem;'>/mo</span></div><button class='btn'>Get Started</button></div><div class='plan'><h3>Enterprise</h3><div class='price'>$199<span style='font-size:1rem;'>/mo</span></div><button class='btn'>Get Started</button></div></div></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('saas')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('saas')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">SaaS</div>
          <h3 class="template-title">SaaS Launch Pro</h3>
          <div class="template-rating">
            <div class="stars">★★★★★</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(89 reviews)</span>
          </div>
          <p class="template-description">Complete SaaS landing page with pricing tables, feature comparisons, and free trial conversion optimization.</p>
          <ul class="template-features">
            <li>Interactive pricing calculator</li>
            <li>Feature comparison matrix</li>
            <li>Free trial signup flow</li>
            <li>Customer testimonials</li>
          </ul>
          <div class="template-price">$497</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('saas')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('saas')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>

      <!-- Healthcare Template -->
      <div class="template-card" data-category="healthcare">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:system-ui,sans-serif;background:#f0f9ff;color:#0c4a6e;}header{background:linear-gradient(135deg,#0369a1,#0284c7);color:white;padding:4rem 0;text-align:center;}h1{font-size:2.5rem;margin-bottom:1rem;}p{font-size:1.1rem;margin-bottom:2rem;opacity:0.95;}.cta{background:#dc2626;color:white;padding:1.2rem 2rem;text-decoration:none;border-radius:8px;font-weight:600;}.services{padding:3rem 1rem;}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:2rem;}.service{background:white;padding:2rem;border-radius:12px;text-align:center;box-shadow:0 4px 6px rgba(0,0,0,0.05);border-top:4px solid #0369a1;}.icon{width:60px;height:60px;background:#e0f2fe;border-radius:50%;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;font-size:1.5rem;}</style></head><body><header><h1>Medical Excellence</h1><p>Comprehensive healthcare services with personalized patient care</p><a href='#' class='cta'>Book Appointment</a></header><section class='services'><h2 style='text-align:center;margin-bottom:2rem;'>Our Services</h2><div class='grid'><div class='service'><div class='icon'>🏥</div><h3>General Medicine</h3><p>Comprehensive primary care services</p></div><div class='service'><div class='icon'>🔬</div><h3>Diagnostics</h3><p>Advanced diagnostic capabilities</p></div><div class='service'><div class='icon'>💊</div><h3>Specialty Care</h3><p>Expert specialist consultations</p></div></div></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('healthcare')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('healthcare')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">Healthcare</div>
          <h3 class="template-title">Medical Practice</h3>
          <div class="template-rating">
            <div class="stars">★★★★☆</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(73 reviews)</span>
          </div>
          <p class="template-description">HIPAA-compliant healthcare template with appointment booking, service showcases, and patient testimonials.</p>
          <ul class="template-features">
            <li>Online appointment booking</li>
            <li>Service descriptions</li>
            <li>Doctor profiles</li>
            <li>Patient testimonials</li>
          </ul>
          <div class="template-price">$447</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('healthcare')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('healthcare')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>

      <!-- E-commerce Template -->
      <div class="template-card" data-category="ecommerce">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:Inter,sans-serif;background:#fff;color:#111827;}header{background:#111827;color:white;padding:3rem 0;text-align:center;}h1{font-size:2.5rem;margin-bottom:1rem;}p{font-size:1.1rem;margin-bottom:2rem;}.cta{background:#f59e0b;color:#111827;padding:1.2rem 2rem;text-decoration:none;border-radius:8px;font-weight:700;}.products{padding:3rem 1rem;background:#f9fafb;}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin-top:2rem;}.product{background:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px rgba(0,0,0,0.1);}.product-image{height:200px;background:linear-gradient(45deg,#f3f4f6,#e5e7eb);display:flex;align-items:center;justify-content:center;color:#6b7280;}.product-info{padding:1.5rem;}.price{font-size:1.5rem;font-weight:800;color:#059669;margin:0.5rem 0;}.btn{background:#111827;color:white;padding:0.75rem 1.5rem;border:none;border-radius:6px;width:100%;cursor:pointer;}</style></head><body><header><h1>Premium Products</h1><p>Discover our exclusive collection of premium items</p><a href='#' class='cta'>Shop Now</a></header><section class='products'><h2 style='text-align:center;margin-bottom:2rem;'>Featured Products</h2><div class='grid'><div class='product'><div class='product-image'>Product Image</div><div class='product-info'><h3>Premium Product</h3><div class='price'>$299</div><button class='btn'>Add to Cart</button></div></div><div class='product'><div class='product-image'>Product Image</div><div class='product-info'><h3>Best Seller</h3><div class='price'>$199</div><button class='btn'>Add to Cart</button></div></div><div class='product'><div class='product-image'>Product Image</div><div class='product-info'><h3>New Arrival</h3><div class='price'>$149</div><button class='btn'>Add to Cart</button></div></div></div></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('ecommerce')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('ecommerce')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">E-commerce</div>
          <h3 class="template-title">Premium Store</h3>
          <div class="template-rating">
            <div class="stars">★★★★★</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(204 reviews)</span>
          </div>
          <p class="template-description">High-converting e-commerce template with product showcases, shopping cart integration, and payment processing.</p>
          <ul class="template-features">
            <li>Product catalog system</li>
            <li>Shopping cart functionality</li>
            <li>Payment gateway integration</li>
            <li>Customer reviews</li>
          </ul>
          <div class="template-price">$597</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('ecommerce')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('ecommerce')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>

      <!-- Real Estate Template -->
      <div class="template-card" data-category="realestate">
        <div class="template-preview">
          <iframe src="data:text/html,<!DOCTYPE html><html><head><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:system-ui,sans-serif;background:#fefefe;color:#1f2937;}header{background:linear-gradient(135deg,#1f2937,#374151);color:white;padding:4rem 0;text-align:center;}h1{font-size:2.8rem;margin-bottom:1rem;}p{font-size:1.2rem;margin-bottom:2rem;}.cta{background:#dc2626;color:white;padding:1.2rem 2rem;text-decoration:none;border-radius:8px;font-weight:600;}.listings{padding:3rem 1rem;background:#f9fafb;}.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-top:2rem;}.listing{background:white;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.1);}.listing-image{height:200px;background:linear-gradient(45deg,#e5e7eb,#d1d5db);display:flex;align-items:center;justify-content:center;color:#6b7280;}.listing-info{padding:1.5rem;}.price{font-size:1.8rem;font-weight:800;color:#dc2626;margin-bottom:0.5rem;}.details{display:flex;gap:1rem;margin:1rem 0;color:#6b7280;}</style></head><body><header><h1>Elite Properties</h1><p>Luxury real estate with premium service and exclusive listings</p><a href='#' class='cta'>View Listings</a></header><section class='listings'><h2 style='text-align:center;margin-bottom:2rem;'>Featured Properties</h2><div class='grid'><div class='listing'><div class='listing-image'>Property Image</div><div class='listing-info'><h3>Luxury Downtown Condo</h3><div class='price'>$850,000</div><div class='details'><span>3 bed</span><span>2 bath</span><span>1,500 sqft</span></div></div></div><div class='listing'><div class='listing-image'>Property Image</div><div class='listing-info'><h3>Modern Family Home</h3><div class='price'>$1,250,000</div><div class='details'><span>4 bed</span><span>3 bath</span><span>2,200 sqft</span></div></div></div></div></section></body></html>"></iframe>
          <div class="template-overlay">
            <button class="btn btn-secondary" onclick="previewTemplate('realestate')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" onclick="purchaseTemplate('realestate')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
        <div class="template-info">
          <div class="template-category">Real Estate</div>
          <h3 class="template-title">Property Showcase</h3>
          <div class="template-rating">
            <div class="stars">★★★★☆</div>
            <span style="color: var(--text-muted); font-size: 0.9rem;">(91 reviews)</span>
          </div>
          <p class="template-description">Professional real estate template with property listings, agent profiles, and mortgage calculators.</p>
          <ul class="template-features">
            <li>Property search functionality</li>
            <li>Virtual tour integration</li>
            <li>Mortgage calculator</li>
            <li>Agent contact forms</li>
          </ul>
          <div class="template-price">$347</div>
          <div class="template-actions">
            <button class="btn btn-secondary" style="flex: 1;" onclick="previewTemplate('realestate')">
              <i class="fas fa-eye"></i> Preview
            </button>
            <button class="btn btn-primary" style="flex: 1;" onclick="purchaseTemplate('realestate')">
              <i class="fas fa-shopping-cart"></i> Purchase
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center" style="margin-top: 4rem;">
      <button class="btn btn-secondary" onclick="loadMoreTemplates()">
        <i class="fas fa-plus"></i>
        Load More Templates
      </button>
    </div>
  </div>
</section>

    <section id="pricing" class="pricing">

 <div class="container">
   
    <h2 class="text-center mb-2" style="font-size: 3rem; font-weight: 800;">Professional Pricing</h2>
    <p class="text-center text-muted mb-2" style="font-size: 1.3rem;">Choose the perfect solution for your business needs</p>
    
    <div class="pricing-toggle">
      <div class="toggle-container">
        <div class="toggle-option active" data-billing="monthly" onclick="switchBilling('monthly')">Monthly</div>
        <div class="toggle-option" data-billing="annual" onclick="switchBilling('annual')">Annual (Save 20%)</div>
      </div>
    </div>

    <div class="pricing-grid">
      <div class="pricing-card card" data-plan="professional">
        <div class="pricing-header">
          <h3 class="pricing-title">Professional</h3>
          <!-- keep data-monthly and data-annual as source of truth -->
          <div class="pricing-price" data-monthly="197" data-annual="158" id="professionalPrice">$197</div>
          <div class="pricing-period" id="professionalPeriod">per month</div>
        </div>
        <div class="pricing-features">
          <ul>
            <li>5 Premium Templates</li>
            <li>Custom Domain</li>
            <li>Advanced Analytics</li>
            <li>A/B Testing</li>
            <li>Priority Support</li>
            <li>SSL Certificate</li>
            <li>Mobile Optimization</li>
          </ul>
          <button class="btn btn-primary w-full" onclick="selectPlan('professional')">
            <i class="fas fa-rocket"></i>
            Choose Professional
          </button>
        </div>
      </div>

      <div class="pricing-card card featured" data-plan="enterprise">
        <div class="pricing-header">
          <h3 class="pricing-title">Enterprise</h3>
          <!-- Enterprise monthly 497 / annual 398 -->
          <div class="pricing-price" data-monthly="497" data-annual="398" id="enterprisePrice">$497</div>
          <div class="pricing-period" id="enterprisePeriod">per month</div>
        </div>
        <div class="pricing-features">
          <ul>
            <li>Unlimited Templates</li>
            <li>Custom Development</li>
            <li>White-Label Solution</li>
            <li>API Access</li>
            <li>Dedicated Account Manager</li>
            <li>99.9% SLA</li>
            <li>Advanced Security</li>
            <li>Team Collaboration</li>
          </ul>
          <button class="btn btn-primary w-full" onclick="selectPlan('enterprise')">
            <i class="fas fa-crown"></i>
            Choose Enterprise
          </button>
        </div>
      </div>
  

          <div class="pricing-card card">
            <div class="pricing-header">
              <h3 class="pricing-title">Custom Solutions</h3>
              <div class="pricing-price">Contact</div>
              <div class="pricing-period">for pricing</div>
            </div>
            <div class="pricing-features">
              <ul>
                <li>Fully Custom Design</li>
                <li>Dedicated Development Team</li>
                <li>Enterprise Integrations</li>
                <li>Custom Analytics</li>
                <li>24/7 Phone Support</li>
                <li>On-site Training</li>
                <li>SLA Guarantees</li>
                <li>Ongoing Maintenance</li>
              </ul>
              <button class="btn btn-outline w-full" onclick="openContactModal()">
                <i class="fas fa-phone"></i>
                Contact Sales
              </button>
            </div>
          </div>
        </div>

        <div class="text-center" style="margin-top: 3rem;">
          <p style="color: var(--text-muted); margin-bottom: 1rem;">All plans include 30-day money-back guarantee</p>
          <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; align-items: center;">
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--secondary);">
              <i class="fas fa-shield-alt"></i>
              <span>SSL Security</span>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--secondary);">
              <i class="fas fa-headset"></i>
              <span>24/7 Support</span>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--secondary);">
              <i class="fas fa-sync-alt"></i>
              <span>Free Updates</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Enterprise Section -->
    <section id="enterprise" class="enterprise">
      <div class="container">
        <div class="enterprise-content">
          <h2 style="font-size: 3rem; font-weight: 800; margin-bottom: 2rem;">Trusted by Industry Leaders</h2>
          <p style="font-size: 1.3rem; color: var(--text-muted); margin-bottom: 4rem;">Over 500 Fortune 1000 companies trust LandingCraft Pro for their critical conversion needs</p>
          
         <div class="enterprise-logo-grid">
  <div class="enterprise-logo">
    <img src="microsoft.png" alt="Microsoft logo" />
    <span class="logo-fallback"></span>
  </div>
  <div class="enterprise-logo">
    <img src="IBM.png" alt="IBM logo" />
    <span class="logo-fallback"></span>
  </div>
  <div class="enterprise-logo">
    <img src="Oracle.png" alt="Oracle logo" />
    <span class="logo-fallback"></span>
  </div>
  <div class="enterprise-logo">
    <img src="salesforce.png" alt="Salesforce logo" />
    <span class="logo-fallback"></span>
  </div>
  <div class="enterprise-logo">
    <img src="adobe.png" alt="Adobe logo" />
    <span class="logo-fallback"></span>
  </div>
  <div class="enterprise-logo">
    <img src="cisco.png" alt="Cisco logo" />
    <span class="logo-fallback"></span>
  </div>
</div>


          <div class="grid-3" style="margin-top: 4rem;">
            <div class="card">
              <div class="card-body">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                  <div style="width: 60px; height: 60px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-shield-alt" style="color: white; font-size: 1.5rem;"></i>
                  </div>
                  <h3>Enterprise Security</h3>
                </div>
                <p style="color: var(--text-muted);">SOC 2 Type II compliance, SSO integration, and enterprise-grade security protocols with 256-bit encryption.</p>
                <button class="btn btn-secondary" style="margin-top: 1rem;" onclick="openSecurityModal()">
                  <i class="fas fa-info-circle"></i>
                  Learn More
                </button>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                  <div style="width: 60px; height: 60px; background: var(--secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-headset" style="color: white; font-size: 1.5rem;"></i>
                  </div>
                  <h3>Dedicated Support</h3>
                </div>
                <p style="color: var(--text-muted);">24/7 phone support with dedicated account managers and SLA guarantees. Average response time under 2 hours.</p>
                <button class="btn btn-secondary" style="margin-top: 1rem;" onclick="openSupportModal()">
                  <i class="fas fa-phone"></i>
                  Contact Support
                </button>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                  <div style="width: 60px; height: 60px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-code" style="color: white; font-size: 1.5rem;"></i>
                  </div>
                  <h3>Custom Development</h3>
                </div>
                <p style="color: var(--text-muted);">Full custom development services with dedicated engineering teams and project managers.</p>
                <button class="btn btn-secondary" style="margin-top: 1rem;" onclick="openDevelopmentModal()">
                  <i class="fas fa-cogs"></i>
                  Get Quote
                </button>
              </div>
            </div>
          </div>

          <div style="margin-top: 4rem;">
            <button class="btn btn-primary" style="font-size: 1.1rem; padding: 1.2rem 2.5rem;" onclick="scheduleDemoModal()">
              <i class="fas fa-calendar"></i>
              Schedule Enterprise Demo
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="features" style="background: var(--bg-light);">
      <div class="container">
        <h2 class="text-center mb-2" style="font-size: 3rem; font-weight: 800;">Get Started Today</h2>
        <p class="text-center text-muted mb-2" style="font-size: 1.3rem;">Ready to transform your conversion rates? Let's discuss your needs.</p>
        
        <div class="grid-2" style="max-width: 1000px; margin: 4rem auto 0;">
          <div class="card">
            <div class="card-header">
              <h3>Contact Information</h3>
            </div>
            <div class="card-body">
              <div style="margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                  <i class="fas fa-envelope" style="color: var(--primary);"></i>
                  <h4>Enterprise Sales</h4>
                </div>
                <p style="color: var(--text-muted);">landingcraftenterprise165@gmail.com</p>
                <p style="color: var(--text-muted);">+61402144433</p>
              </div>
              
              <div style="margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                  <i class="fas fa-headset" style="color: var(--secondary);"></i>
                  <h4>Technical Support</h4>
                </div>
                <p style="color: var(--text-muted);">landingcraftsup165@gmail.com</p>
                <p style="color: var(--text-muted);">24/7 Live Chat Available</p>
              </div>
              
              <div style="margin-bottom: 2rem;">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.5rem;">
                  <i class="fas fa-handshake" style="color: var(--warning);"></i>
                  <h4>Partnership Opportunities</h4>
                </div>
                <p style="color: var(--text-muted);">partners@landingcraft.com</p>
              </div>
              
              <div class="hero-stats" style="justify-content: flex-start; margin-top: 2rem;">
                <div class="hero-stat">
                  <div class="hero-stat-number">2-4 hrs</div>
                  <div class="hero-stat-label">Response Time</div>
                </div>
                <div class="hero-stat">
                  <div class="hero-stat-number">99.9%</div>
                  <div class="hero-stat-label">Uptime SLA</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <h3>Schedule a Demo</h3>
            </div>
            <div class="card-body">
              <form id="contactForm" onsubmit="submitContactForm(event)">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="First Name" name="firstName" required>
                  </div>
                  <div class="form-group">
                    <input type="text" class="form-control" placeholder="Last Name" name="lastName" required>
                  </div>
                </div>
                <div class="form-group">
                  <input type="email" class="form-control" placeholder="Business Email" name="email" required>
                </div>
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Company Name" name="company" required>
                </div>
                <div class="form-group">
                  <select class="form-control" name="companySize" required>
                    <option value="">Company Size</option>
                    <option value="1-10">1-10 employees</option>
                    <option value="11-50">11-50 employees</option>
                    <option value="51-200">51-200 employees</option>
                    <option value="201-1000">201-1000 employees</option>
                    <option value="1000+">1000+ employees</option>
                  </select>
                </div>
                <div class="form-group">
                  <textarea class="form-control" rows="4" placeholder="Tell us about your project requirements..." name="message"></textarea>
                </div>
                <button type="submit" class="btn btn-primary w-full" id="contactSubmitBtn">
                  <i class="fas fa-calendar"></i>
                  Schedule Demo
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-section">
          <h3>Products</h3>
          <ul>
            <li><a href="#templates" onclick="scrollToSection('templates')">Templates</a></li>
            <li><a href="#pricing" onclick="scrollToSection('pricing')">Pricing</a></li>
            <li><a href="#enterprise" onclick="scrollToSection('enterprise')">Enterprise</a></li>
            <li><a href="#" onclick="openCustomDevelopmentModal()">Custom Development</a></li>
            <li><a href="#" onclick="openAPIModal()">API Documentation</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3>Solutions</h3>
          <ul>
            <li><a href="#" onclick="filterTemplates('saas')">SaaS Companies</a></li>
            <li><a href="#" onclick="filterTemplates('business')">Professional Services</a></li>
            <li><a href="#" onclick="filterTemplates('ecommerce')">E-commerce</a></li>
            <li><a href="#" onclick="filterTemplates('healthcare')">Healthcare</a></li>
            <li><a href="#" onclick="filterTemplates('legal')">Legal Firms</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3>Resources</h3>
          <ul>
            <li><a href="#contact" onclick="openHelpModal()">Help Center</a></li>
            <li><a href="#home" onclick="openStatusPage()">Status Page</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3>Company</h3>
          <ul>
            <li><a href="#enterprise" onclick="openAboutModal()">About Us</a></li>
            <li><a href="#" onclick="openPrivacyModal()">Privacy Policy</a></li>
            <li><a href="#" onclick="openTermsModal()">Terms of Service</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div>
          <p>&copy; 2024 LandingCraft Pro. All rights reserved. SOC 2 Type II Compliant.</p>
        </div>
        <div class="footer-social">
          <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
          <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
          <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Live Chat Widget -->
 <div class="lc-chat-widget" id="lcChatWrap">
  <div class="lc-chat-panel hidden" id="lcChatPanel" role="dialog" aria-label="LandingCraft AI chat">
    <div class="lc-chat-header">
      <div class="avatar">🤖</div>
      <div>
        <h4>LandingCraft AI</h4>
        <div style="font-size:12px; color: #cbd5e1; opacity:0.9;">Online · Ask about templates, pricing, or demos</div>
      </div>
      <div style="margin-left:auto;">
        <button aria-label="Close chat" class="lc-toggle-btn" id="lcCloseBtn" title="Close chat">✕</button>
      </div>
    </div>

    <div class="lc-chat-body" id="lcChatBody" aria-live="polite">
      <!-- messages added dynamically -->
    </div>

    <div class="lc-chat-footer">
      <div class="lc-input-row">
        <input id="lcChatInput" class="lc-input" placeholder="Ask me anything about LandingCraft Pro..." />
        <button id="lcSendBtn" class="lc-send-btn" aria-label="Send message">Send</button>
      </div>
      <div style="margin-top:8px; display:flex; gap:8px;">
        <button class="lc-send-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff" onclick="window.lcChat && window.lcChat.quick('pricing')">Pricing</button>
        <button class="lc-send-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff" onclick="window.lcChat && window.lcChat.quick('templates')">Templates</button>
        <button class="lc-send-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff" onclick="window.lcChat && window.lcChat.quick('demo')">Book Demo</button>
      </div>
    </div>
  </div>

  <!-- Floating toggle button -->
  <div style="position:relative;">
    <button id="lcToggle" class="lc-toggle-btn" title="Open chat" aria-label="Open chat">
      💬
      <div class="lc-notify" id="lcNotify" style="display:none">1</div>
    </button>
  </div>
</div>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  

  <!-- Modals -->
  
  <!-- Preview Modal -->
  <div class="modal" id="previewModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="previewTitle">Template Preview</h2>
        <button class="close-btn" onclick="closeModal('previewModal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="preview-frame">
          <iframe id="previewFrame" src="about:blank"></iframe>
        </div>
        <div style="display: flex; gap: 1rem; margin-top: 2rem; justify-content: center;">
          <button class="btn btn-secondary" onclick="closeModal('previewModal')">
            <i class="fas fa-times"></i>
            Close Preview
          </button>
          <button class="btn btn-primary" id="purchaseFromPreview">
            <i class="fas fa-shopping-cart"></i>
            Purchase Template
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Purchase Modal -->
  <div class="modal" id="purchaseModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Complete Your Purchase</h2>
        <button class="close-btn" onclick="closeModal('purchaseModal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="grid-2">
          <div>
            <h3>Order Summary</h3>
            <div class="card" style="margin: 1.5rem 0;">
              <div class="card-body">
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                  <span style="font-weight: 600;">Template:</span>
                  <strong id="orderTemplate">—</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                  <span>Base Price:</span>
                  <strong id="orderPrice">$0</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                  <span>Discount:</span>
                  <strong id="orderDiscount" style="color: var(--secondary);">—</strong>
                </div>
                <hr style="border: none; border-top: 1px solid var(--border); margin: 1.5rem 0;">
                <div style="display: flex; justify-content: space-between; font-size: 1.3rem;">
                  <span><strong>Total:</strong></span>
                  <strong id="orderTotal" style="color: var(--primary);">$0</strong>
                </div>
              </div>
            </div>

            <div style="margin-bottom: 1.5rem;">
              <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Promo Code</label>
              <div style="display: flex; gap: 0.5rem;">
                <input type="text" class="form-control" id="purchaseCoupon" placeholder="Enter promo code" style="flex: 1;">
                <button class="btn btn-secondary" onclick="applyCoupon()">
                  <i class="fas fa-tag"></i>
                  Apply
                </button>
              </div>
            </div>

            <div class="card" style="background: rgba(22, 163, 74, 0.1); border-color: var(--secondary);">
              <div class="card-body">
                <h4 style="color: var(--secondary); margin-bottom: 1rem;">
                  <i class="fas fa-check-circle"></i>
                  What's Included
                </h4>
                <ul style="list-style: none; margin: 0; padding: 0;">
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    Complete source code (HTML, CSS, JS)
                  </li>
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    Mobile-responsive design
                  </li>
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    SEO optimized structure
                  </li>
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    Cross-browser compatibility
                  </li>
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    Customization documentation
                  </li>
                  <li style="margin-bottom: 0.5rem;">
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    6 months of free updates
                  </li>
                  <li>
                    <i class="fas fa-check" style="color: var(--secondary); margin-right: 0.5rem;"></i>
                    Commercial license included
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div>
            <h3>Payment Method</h3>
            <div style="display: flex; flex-direction: column; gap: 1rem; margin: 1.5rem 0;">
              <form id="paypalForm" method="post" target="_blank">
                <input type="hidden" name="cmd" value="_xclick">
                <input type="hidden" name="business" id="paypalBusiness" value="yacob13579@gmail.com">
                <input type="hidden" name="item_name" id="paypalItemName" value="">
                <input type="hidden" name="amount" id="paypalAmount" value="">
                <input type="hidden" name="currency_code" value="USD">
                <input type="hidden" name="return" value="https://landingcraft.com/success">
                <input type="hidden" name="cancel_return" value="https://landingcraft.com/cancel">
                <button type="button" class="btn btn-primary w-full" style="font-size: 1.1rem; padding: 1rem;" onclick="processPayPalPayment()">
                  <i class="fab fa-paypal"></i>
                  Pay with PayPal
                </button>
              </form>
              
              <button class="btn btn-secondary w-full" onclick="showComingSoon('Credit Card')">
                <i class="fas fa-credit-card"></i>
                Credit Card (Coming Soon)
              </button>

              <button class="btn btn-outline w-full" onclick="processCryptoPayment()">
                <i class="fab fa-bitcoin"></i>
                Cryptocurrency
              </button>
            </div>

            <div class="card">
              <div class="card-body">
                <h4 style="margin-bottom: 1rem;">
                  <i class="fas fa-shield-alt" style="color: var(--secondary);"></i>
                  Secure Payment
                </h4>
                <p style="color: var(--text-muted); margin-bottom: 1rem;">Your payment is processed securely through PayPal. We never store your payment information.</p>
                <div style="display: flex; gap: 1rem; align-items: center;">
                  <span style="font-size: 0.9rem; color: var(--text-muted);">Secured by:</span>
                  <strong style="color: var(--primary);">PayPal</strong>
                  <strong style="color: var(--secondary);">SSL</strong>
                  <strong style="color: var(--warning);">256-bit</strong>
                </div>
              </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
              <div class="card-body">
                <h4 style="margin-bottom: 1rem;">
                  <i class="fas fa-phone" style="color: var(--primary);"></i>
                  Need Help?
                </h4>
                <p style="color: var(--text-muted); margin-bottom: 1rem;">Have questions about this template or need customization?</p>
                <button class="btn btn-outline w-full" onclick="closeModal('purchaseModal'); toggleChat();">
                  <i class="fas fa-comments"></i>
                  Contact Sales Team
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Video Demo Modal -->
  <div class="modal" id="videoModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">LandingCraft Pro Demo</h2>
        <button class="close-btn" onclick="closeModal('videoModal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; background: #000; border-radius: 8px;">
          <video id="demoVideo" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" controls>
            <source src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <div style="text-align: center; margin-top: 2rem;">
          <button class="btn btn-primary" onclick="scrollToSection('templates'); closeModal('videoModal');">
            <i class="fas fa-rocket"></i>
            Start Building Now
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Advanced JavaScript -->
  <script src="https://www.paypal.com/sdk/js?client-id=ARjRdV8XjYuk8l5ykSyKTXYaGGQA9LOfzBtl84LyeQVb5_J5yKG8I-nCB_AhqKqp5H3AhPnStjvgdBHr&currency=USD"></script>
  
 <script>
    // Configuration with your PayPal credentials
    const CONFIG = {
      PAYPAL_CLIENT_ID: 'ARjRdV8XjYuk8l5ykSyKTXYaGGQA9LOfzBtl84LyeQVb5_J5yKG8I-nCB_AhqKqp5H3AhPnStjvgdBHr',
      PAYPAL_EMAIL: 'yacob13579@gmail.com',
      CURRENCY: 'USD',
      TEMPLATES: {
        consulting: {
          name: 'Executive Consulting',
          price: 297,
          category: 'business',
          description: 'Professional consulting template with case studies and testimonials',
          features: ['Lead capture optimization', 'Case study sections', 'ROI calculators', 'Enterprise testimonials']
        },
        saas: {
          name: 'SaaS Launch Pro',
          price: 497,
          category: 'saas',
          description: 'Complete SaaS landing page with pricing tables and feature comparisons',
          features: ['Interactive pricing calculator', 'Feature comparison matrix', 'Free trial signup flow', 'Customer testimonials']
        },
        legal: {
          name: 'Legal Authority',
          price: 397,
          category: 'legal',
          description: 'Professional legal services template with practice areas and attorney profiles',
          features: ['Attorney biography sections', 'Case results showcase', 'Consultation scheduling', 'Client testimonials']
        },
        healthcare: {
          name: 'Medical Practice',
          price: 447,
          category: 'healthcare',
          description: 'HIPAA-compliant healthcare template with appointment booking',
          features: ['Online appointment booking', 'Service descriptions', 'Doctor profiles', 'Patient testimonials']
        },
        ecommerce: {
          name: 'Premium Store',
          price: 597,
          category: 'ecommerce',
          description: 'High-converting e-commerce template with shopping cart integration',
          features: ['Product catalog system', 'Shopping cart functionality', 'Payment gateway integration', 'Customer reviews']
        },
        realestate: {
          name: 'Property Showcase',
          price: 347,
          category: 'realestate',
          description: 'Professional real estate template with property listings',
          features: ['Property search functionality', 'Virtual tour integration', 'Mortgage calculator', 'Agent contact forms']
        }
      },
      COUPONS: {
        'LAUNCH25': { type: 'percent', value: 25, description: '25% off launch special' },
        'SAVE50': { type: 'fixed', value: 50, description: '$50 discount' },
        'ENTERPRISE20': { type: 'percent', value: 20, description: '20% enterprise discount' },
        'NEWCLIENT': { type: 'percent', value: 15, description: '15% new client discount' },
        'HOLIDAY30': { type: 'percent', value: 30, description: '30% holiday special' }
      }
    };

    // Application State
    let state = {
      selectedTemplate: null,
      currentBilling: 'monthly',
      appliedCoupon: null,
      chatOpen: false,
      currentFilter: 'all'
    };

    // Initialize Application
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
    });

    function initializeApp() {
      initNavigation();
      initScrollAnimations();
      initParticleSystem();
      initCounterAnimations();
      initMobileMenu();
      initChatSystem();
      initPayPalIntegration();
      initAnalytics();
      initKeyboardShortcuts();
      
      showToast('Welcome to LandingCraft Pro! 🚀', 'success', 3000);
    }

    // Navigation Functions
    function initNavigation() {
      const navbar = document.getElementById('navbar');
      const navLinks = document.querySelectorAll('.nav-link');
      
      // Navbar scroll effect
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
        
        updateActiveNavLink();
      });
      
      // Initialize search
      const searchInput = document.getElementById('searchInput');
      if (searchInput) {
        searchInput.addEventListener('input', debounce(handleSearchInput, 300));
      }
    }

    function scrollToSection(sectionId) {
      const element = document.getElementById(sectionId);
      if (element) {
        const offset = 80; // Account for fixed navbar
        const elementPosition = element.offsetTop - offset;
        
        window.scrollTo({
          top: elementPosition,
          behavior: 'smooth'
        });
      }
    }

    function updateActiveNavLink() {
      const sections = ['home', 'features', 'templates', 'pricing', 'enterprise', 'contact'];
      const navLinks = document.querySelectorAll('.nav-link');
      
      let currentSection = '';
      
      sections.forEach(sectionId => {
        const section = document.getElementById(sectionId);
        if (section) {
          const rect = section.getBoundingClientRect();
          if (rect.top <= 150 && rect.bottom >= 150) {
            currentSection = sectionId;
          }
        }
      });
      
      navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${currentSection}`) {
          link.classList.add('active');
        }
      });
    }

    // Search Functionality
    function performSearch() {
      const query = document.getElementById('searchInput').value.trim();
      if (query) {
        searchTemplates(query);
        scrollToSection('templates');
      }
    }

    function handleSearchInput(event) {
      const query = event.target.value.trim().toLowerCase();
      if (query.length >= 2) {
        searchTemplates(query);
      } else if (query.length === 0) {
        filterTemplates('all');
      }
    }

    function searchTemplates(query) {
      const templateCards = document.querySelectorAll('.template-card');
      let hasResults = false;
      
      templateCards.forEach(card => {
        const title = card.querySelector('.template-title').textContent.toLowerCase();
        const description = card.querySelector('.template-description').textContent.toLowerCase();
        const category = card.querySelector('.template-category').textContent.toLowerCase();
        
        if (title.includes(query) || description.includes(query) || category.includes(query)) {
          card.style.display = 'block';
          hasResults = true;
        } else {
          card.style.display = 'none';
        }
      });
      
      if (!hasResults) {
        showToast('No templates found matching your search', 'info');
      }
    }

    // Template Functions
    function filterTemplates(category) {
      const templateCards = document.querySelectorAll('.template-card');
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      // Update filter buttons
      filterBtns.forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.filter === category) {
          btn.classList.add('active');
        }
      });
      
      // Filter templates
      templateCards.forEach(card => {
        if (category === 'all' || card.dataset.category === category) {
          card.style.display = 'block';
          card.style.animation = 'fadeInUp 0.6s ease forwards';
        } else {
          card.style.display = 'none';
        }
      });
      
      state.currentFilter = category;
    }

    function previewTemplate(templateKey) {
      const template = CONFIG.TEMPLATES[templateKey];
      if (!template) return;

      const modal = document.getElementById('previewModal');
      const previewFrame = document.getElementById('previewFrame');
      const previewTitle = document.getElementById('previewTitle');
      const purchaseBtn = document.getElementById('purchaseFromPreview');

      previewTitle.textContent = `${template.name} - Live Preview`;
      
      // Generate comprehensive template HTML
      const html = generateFullTemplate(templateKey);
      previewFrame.srcdoc = html;
      
      purchaseBtn.onclick = () => {
        closeModal('previewModal');
        purchaseTemplate(templateKey);
      };

      openModal('previewModal');
      
      // Track preview event
      trackEvent('template_preview', { template: templateKey });
    }

   
  /* ---------- Card button actions (exposed globally) ---------- */
  window.openSecurityModal = function openSecurityModal() {
    openEnterpriseModal('Enterprise Security', `
      <p><strong>SOC 2 Type II</strong>, SSO (SAML / OIDC), role-based access, and 256-bit encryption on all data in transit and at rest.</p>
      <ul style="margin-top:0.6rem; color:var(--text-muted);">
        <li>SAML/SSO integrations (Okta, Azure AD)</li>
        <li>IP allowlisting & session controls</li>
        <li>Regular penetration tests & vulnerability scans</li>
      </ul>
      <div style="margin-top:1rem; text-align:right;">
        <button class="btn btn-outline" onclick="closeEnterpriseModal()">Close</button>
        <button class="btn btn-primary" style="margin-left:0.5rem;" onclick="showToast('Compliance pack request sent', 'success'); closeEnterpriseModal()">Request Compliance Pack</button>
      </div>
    `);
  };

  window.openSupportModal = function openSupportModal() {
    openEnterpriseModal('Dedicated Support', `
      <p>24/7 dedicated support with SLA options, priority routing, and a named account team.</p>
      <p style="color:var(--text-muted)"><strong>Avg response time:</strong> &lt; 2 hours for priority tickets.</p>
      <div style="margin-top:1rem;">
        <button class="btn btn-outline" onclick="closeEnterpriseModal(); scrollToSection && scrollToSection('contact')">Contact Sales</button>
        <button class="btn btn-primary" style="margin-left:0.5rem;" onclick="closeEnterpriseModal(); showToast('Support ticket created — our team will reach out shortly', 'success')">Open Support Ticket</button>
      </div>
    `);
  };

  window.openDevelopmentModal = function openDevelopmentModal() {
    openEnterpriseModal('Custom Development — Request a Quote', `
      <p>We’ll match you with a solutions engineer and produce a scoped proposal and quote.</p>
      <form id="devQuoteForm" style="margin-top:0.8rem;">
        <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
          <input name="name" placeholder="Full name" required style="flex:1; padding:0.6rem; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--text);" />
          <input name="email" type="email" placeholder="Email" required style="flex:1; padding:0.6rem; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--text);" />
        </div>
        <textarea name="details" placeholder="Brief project description" rows="4" required style="width:100%; margin-top:0.6rem; padding:0.6rem; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--text);"></textarea>
        <div style="margin-top:0.6rem; text-align:right;">
          <button type="button" class="btn btn-outline" onclick="closeEnterpriseModal()">Cancel</button>
          <button type="submit" class="btn btn-primary" style="margin-left:0.5rem;">Send Request</button>
        </div>
      </form>
    `);

    // attach submit handler
    setTimeout(() => {
      const form = document.getElementById('devQuoteForm');
      if (!form) return;
      form.addEventListener('submit', function (ev) {
        ev.preventDefault();
        const data = Object.fromEntries(new FormData(form).entries());
        // TODO: replace with your real endpoint; currently simulate success
        console.log('Dev quote request', data);
        showToast('Quote request sent — our team will contact you within 1 business day.', 'success', 4500);
        closeEnterpriseModal();
      });
    }, 50);
  };
 function purchaseTemplate(templateKey) {
      const template = CONFIG.TEMPLATES[templateKey];
      if (!template) return;

      // Update order summary
      document.getElementById('orderTemplate').textContent = template.name;
      document.getElementById('orderPrice').textContent = `${template.price}`;
      document.getElementById('paypalItemName').value = template.name;
      
      // Reset coupon
      state.appliedCoupon = null;
      document.getElementById('purchaseCoupon').value = '';
      
      updateOrderTotal(templateKey);
      state.selectedTemplate = templateKey;
      
      openModal('purchaseModal');
      
      // Track purchase intent
      trackEvent('purchase_intent', { template: templateKey, price: template.price });
    }

    function updateOrderTotal(templateKey) {
      const template = CONFIG.TEMPLATES[templateKey];
      if (!template) return;

      const couponCode = document.getElementById('purchaseCoupon').value.toUpperCase().trim();
      const coupon = CONFIG.COUPONS[couponCode];
      
      let discount = 0;
      let discountText = '—';
      
      if (coupon && state.appliedCoupon === couponCode) {
        if (coupon.type === 'percent') {
          discount = template.price * (coupon.value / 100);
          discountText = `-${discount.toFixed(2)} (${coupon.value}% off)`;
        } else {
          discount = Math.min(coupon.value, template.price);
          discountText = `-${discount.toFixed(2)}`;
        }
      }
      
      const total = Math.max(0, template.price - discount);
      
      document.getElementById('orderDiscount').textContent = discountText;
      document.getElementById('orderTotal').textContent = `${total.toFixed(2)}`;
      document.getElementById('paypalAmount').value = total.toFixed(2);
    }

    function applyCoupon() {
      const couponInput = document.getElementById('purchaseCoupon');
      const couponCode = couponInput.value.toUpperCase().trim();
      const coupon = CONFIG.COUPONS[couponCode];
      
      if (coupon) {
        state.appliedCoupon = couponCode;
        updateOrderTotal(state.selectedTemplate);
        showToast(`Coupon applied! ${coupon.description}`, 'success');
        trackEvent('coupon_applied', { code: couponCode });
      } else {
        showToast('Invalid coupon code. Try LAUNCH25 for 25% off!', 'error');
        trackEvent('coupon_invalid', { code: couponCode });
      }
    }

    // PayPal Integration
    function initPayPalIntegration() {
      // PayPal SDK is already loaded in the head
      if (typeof paypal !== 'undefined') {
        console.log('PayPal SDK loaded successfully');
      }
    }

    function processPayPalPayment() {
      const template = CONFIG.TEMPLATES[state.selectedTemplate];
      if (!template) return;

      const amount = document.getElementById('paypalAmount').value;
      const itemName = document.getElementById('paypalItemName').value;
      
      // Create PayPal payment URL
      const paypalURL = 'https://www.paypal.com/cgi-bin/webscr?' +
        'cmd=_xclick&' +
        `business=${encodeURIComponent(CONFIG.PAYPAL_EMAIL)}&` +
        `item_name=${encodeURIComponent(itemName)}&` +
        `amount=${encodeURIComponent(amount)}&` +
        'currency_code=USD&' +
        'return=https://landingcraft.com/success&' +
        'cancel_return=https://landingcraft.com/cancel&' +
        'notify_url=https://landingcraft.com/ipn';
      
      // Show loading state
      const btn = event.target;
      const originalText = btn.innerHTML;
      btn.innerHTML = '<span class="loading"></span> Processing...';
      btn.disabled = true;
      
      // Track payment initiation
      trackEvent('payment_initiated', {
        template: state.selectedTemplate,
        amount: amount,
        method: 'paypal'
      });
      
      setTimeout(() => {
        window.open(paypalURL, '_blank');
        
        // Reset button
        btn.innerHTML = originalText;
        btn.disabled = false;
        
        // Show success message
        showToast('Redirected to PayPal for secure payment', 'success');
        
        // Close modal after delay
        setTimeout(() => {
          closeModal('purchaseModal');
        }, 2000);
      }, 1500);
    }

    function processCryptoPayment() {
      showToast('Cryptocurrency payments coming soon! Contact support for crypto options.', 'info');
      trackEvent('crypto_payment_interest', { template: state.selectedTemplate });
    }

    // Enhanced Template Generation
    function generateFullTemplate(templateKey) {
      const templates = {
        consulting: generateConsultingTemplate(),
        saas: generateSaasTemplate(),
        legal: generateLegalTemplate(),
        healthcare: generateHealthcareTemplate(),
        ecommerce: generateEcommerceTemplate(),
        realestate: generateRealEstateTemplate()
      };
      
      return templates[templateKey] || templates.consulting;
    }

    function generateConsultingTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Strategic Consulting Excellence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: linear-gradient(135deg, #1e40af, #3b82f6); color: white; text-align: center; padding: 80px 0; }
    h1 { font-size: 3.5rem; margin-bottom: 20px; font-weight: 700; }
    .subtitle { font-size: 1.4rem; margin-bottom: 40px; opacity: 0.9; }
    .cta-btn { background: #dc2626; color: white; padding: 18px 36px; text-decoration: none; border-radius: 10px; font-weight: 700; font-size: 1.2rem; display: inline-block; transition: all 0.3s; box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3); }
    .cta-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(220, 38, 38, 0.4); }
    .services { padding: 100px 0; background: #f8fafc; }
    .services h2 { text-align: center; font-size: 2.8rem; margin-bottom: 60px; color: #1e40af; }
    .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 40px; }
    .service-card { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); text-align: center; transition: transform 0.3s; }
    .service-card:hover { transform: translateY(-10px); }
    .service-icon { width: 80px; height: 80px; background: #1e40af; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 30px; color: white; font-size: 2rem; }
    .service-card h3 { color: #1e40af; margin-bottom: 20px; font-size: 1.5rem; }
    .stats { padding: 80px 0; background: #1e40af; color: white; text-align: center; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; margin-top: 40px; }
    .stat-number { font-size: 3.5rem; font-weight: 800; color: #fbbf24; margin-bottom: 10px; }
    .testimonial { background: rgba(255,255,255,0.1); padding: 40px; border-radius: 15px; margin: 20px; font-style: italic; font-size: 1.2rem; }
    .testimonial-author { margin-top: 20px; font-weight: 600; color: #fbbf24; }
    .footer { background: #1f2937; color: white; text-align: center; padding: 60px 0; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Strategic Consulting Excellence</h1>
      <p class="subtitle">Transform your business with data-driven insights and proven methodologies</p>
      <a href="#contact" class="cta-btn">Schedule Strategic Consultation</a>
    </div>
  </header>
  
  <section class="services">
    <div class="container">
      <h2>Our Expertise</h2>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon">📊</div>
          <h3>Strategic Planning</h3>
          <p>Comprehensive business strategy development with actionable roadmaps and measurable outcomes for sustainable growth.</p>
        </div>
        <div class="service-card">
          <div class="service-icon">⚡</div>
          <h3>Digital Transformation</h3>
          <p>Technology integration and process optimization to drive efficiency and competitive advantage in digital markets.</p>
        </div>
        <div class="service-card">
          <div class="service-icon">🎯</div>
          <h3>Market Analysis</h3>
          <p>In-depth market research and competitive analysis to inform strategic decisions and identify growth opportunities.</p>
        </div>
      </div>
    </div>
  </section>
  
  <section class="stats">
    <div class="container">
      <h2 style="font-size: 2.5rem; margin-bottom: 20px;">Proven Results</h2>
      <div class="stats-grid">
        <div><div class="stat-number">250%</div><div>Average ROI Increase</div></div>
        <div><div class="stat-number">500+</div><div>Successful Projects</div></div>
        <div><div class="stat-number">98%</div><div>Client Retention</div></div>
        <div><div class="stat-number">24/7</div><div>Support Available</div></div>
      </div>
      <div class="testimonial">
        "The strategic insights provided completely transformed our market approach. Revenue increased by 300% in just 12 months."
        <div class="testimonial-author">- CEO, Fortune 500 Technology Company</div>
      </div>
    </div>
  </section>
  
  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Strategic Consulting Excellence. Confidential. Professional. Results-Driven.</p>
    </div>
  </footer>
</body>
</html>`;
    }

    function generateSaasTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SaaS Platform Revolution</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', system-ui, sans-serif; background: #0f172a; color: #f8fafc; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: linear-gradient(135deg, #6366f1, #8b5cf6); padding: 100px 0; text-align: center; }
    h1 { font-size: 4rem; margin-bottom: 30px; font-weight: 800; }
    .subtitle { font-size: 1.4rem; margin-bottom: 50px; opacity: 0.9; }
    .cta-btn { background: #10b981; color: white; padding: 20px 40px; text-decoration: none; border-radius: 12px; font-weight: 700; font-size: 1.3rem; display: inline-block; transition: all 0.3s; }
    .cta-btn:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(16, 185, 129, 0.3); }
    .features { padding: 100px 0; background: #1e293b; }
    .features-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-top: 60px; }
    .feature { background: #334155; padding: 40px; border-radius: 20px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
    .feature h3 { color: #6366f1; margin-bottom: 20px; font-size: 1.5rem; }
    .pricing { padding: 100px 0; background: #0f172a; text-align: center; }
    .pricing-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-top: 60px; }
    .plan { background: #1e293b; padding: 40px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); position: relative; }
    .plan.featured { border-color: #6366f1; transform: scale(1.05); }
    .plan.featured::before { content: 'Most Popular'; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #6366f1; color: white; padding: 8px 20px; border-radius: 20px; font-size: 0.9rem; }
    .plan h3 { color: #6366f1; margin-bottom: 20px; font-size: 1.5rem; }
    .price { font-size: 3.5rem; font-weight: 800; color: #10b981; margin-bottom: 30px; }
    .plan-btn { background: #6366f1; color: white; padding: 15px 30px; border: none; border-radius: 10px; width: 100%; margin-top: 30px; cursor: pointer; font-weight: 600; font-size: 1.1rem; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Revolutionary SaaS Platform</h1>
      <p class="subtitle">Streamline your workflow with AI-powered automation and enterprise-grade security</p>
      <a href="#" class="cta-btn">Start 14-Day Free Trial</a>
    </div>
  </header>
  
  <section class="features">
    <div class="container">
      <h2 style="text-align: center; font-size: 3rem; margin-bottom: 30px;">Powerful Features</h2>
      <div class="features-grid">
        <div class="feature">
          <h3>AI Automation</h3>
          <p>Intelligent workflow automation that learns and adapts to your business processes for maximum efficiency.</p>
        </div>
        <div class="feature">
          <h3>Enterprise Security</h3>
          <p>Bank-level encryption with SOC 2 compliance and advanced threat protection for your data.</p>
        </div>
        <div class="feature">
          <h3>Real-time Analytics</h3>
          <p>Advanced reporting and insights to make data-driven decisions instantly with customizable dashboards.</p>
        </div>
      </div>
    </div>
  </section>
  
  <section class="pricing">
    <div class="container">
      <h2 style="font-size: 3rem; margin-bottom: 30px;">Simple, Transparent Pricing</h2>
      <div class="pricing-grid">
        <div class="plan">
          <h3>Starter</h3>
          <div class="price">$29<span style="font-size: 1rem; opacity: 0.7;">/month</span></div>
          <ul style="list-style: none; text-align: left; margin: 20px 0;">
            <li style="margin: 10px 0;">✓ Up to 10 projects</li>
            <li style="margin: 10px 0;">✓ Basic automation</li>
            <li style="margin: 10px 0;">✓ Email support</li>
            <li style="margin: 10px 0;">✓ 5GB storage</li>
          </ul>
          <button class="plan-btn">Get Started</button>
        </div>
        <div class="plan featured">
          <h3>Professional</h3>
          <div class="price">$79<span style="font-size: 1rem; opacity: 0.7;">/month</span></div>
          <ul style="list-style: none; text-align: left; margin: 20px 0;">
            <li style="margin: 10px 0;">✓ Unlimited projects</li>
            <li style="margin: 10px 0;">✓ Advanced AI features</li>
            <li style="margin: 10px 0;">✓ Priority support</li>
            <li style="margin: 10px 0;">✓ Custom integrations</li>
            <li style="margin: 10px 0;">✓ 100GB storage</li>
          </ul>
          <button class="plan-btn">Get Started</button>
        </div>
        <div class="plan">
          <h3>Enterprise</h3>
          <div class="price">$199<span style="font-size: 1rem; opacity: 0.7;">/month</span></div>
          <ul style="list-style: none; text-align: left; margin: 20px 0;">
            <li style="margin: 10px 0;">✓ Everything in Pro</li>
            <li style="margin: 10px 0;">✓ Dedicated support</li>
            <li style="margin: 10px 0;">✓ Custom development</li>
            <li style="margin: 10px 0;">✓ SLA guarantee</li>
            <li style="margin: 10px 0;">✓ Unlimited storage</li>
          </ul>
          <button class="plan-btn">Contact Sales</button>
        </div>
      </div>
    </div>
  </section>
</body>
</html>`;
    }

    // Continue with other template generators...
    function generateLegalTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premier Legal Services</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Georgia', serif; background: #fefefe; color: #1a202c; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: #2d3748; color: white; padding: 100px 0; text-align: center; }
    h1 { font-size: 3.5rem; margin-bottom: 30px; font-weight: 400; }
    .subtitle { font-size: 1.3rem; margin-bottom: 50px; opacity: 0.95; }
    .cta-btn { background: #c53030; color: white; padding: 20px 40px; text-decoration: none; border-radius: 8px; font-weight: 600; font-size: 1.2rem; display: inline-block; }
    .services { padding: 100px 0; background: #f7fafc; }
    .services-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px; margin-top: 60px; }
    .service { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-left: 6px solid #c53030; }
    .service h3 { color: #2d3748; margin-bottom: 20px; font-size: 1.4rem; }
    .results { padding: 100px 0; background: #2d3748; color: white; text-align: center; }
    .results-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-top: 40px; }
    .result-number { font-size: 3.5rem; font-weight: bold; color: #c53030; margin-bottom: 10px; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Premier Legal Services</h1>
      <p class="subtitle">Experienced attorneys delivering exceptional results for complex legal matters</p>
      <a href="#" class="cta-btn">Schedule Consultation</a>
    </div>
  </header>
  
  <section class="services">
    <div class="container">
      <h2 style="text-align: center; font-size: 2.8rem; margin-bottom: 30px; color: #2d3748;">Practice Areas</h2>
      <div class="services-grid">
        <div class="service">
          <h3>Corporate Law</h3>
          <p>Comprehensive business legal services including M&A, compliance, securities, and corporate governance for enterprises of all sizes.</p>
        </div>
        <div class="service">
          <h3>Commercial Litigation</h3>
          <p>Aggressive representation in complex commercial disputes, intellectual property cases, and high-stakes business litigation.</p>
        </div>
        <div class="service">
          <h3>Real Estate Law</h3>
          <p>Complete real estate legal services for commercial transactions, development projects, and property disputes.</p>
        </div>
        <div class="service">
          <h3>Employment Law</h3>
          <p>Protecting business interests in employment matters, workplace compliance, and executive compensation.</p>
        </div>
      </div>
    </div>
  </section>
  
  <section class="results">
    <div class="container">
      <h2 style="font-size: 2.8rem; margin-bottom: 30px;">Proven Track Record</h2>
      <div class="results-grid">
        <div><div class="result-number">$500M+</div><div>In Settlements Won</div></div>
        <div><div class="result-number">95%</div><div>Success Rate</div></div>
        <div><div class="result-number">25+</div><div>Years Experience</div></div>
      </div>
    </div>
  </section>
</body>
</html>`;
    }

    // Modal Functions
    function openModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
        
        // Stop video if closing video modal
        if (modalId === 'videoModal') {
          const video = document.getElementById('demoVideo');
          if (video) {
            video.pause();
            video.currentTime = 0;
          }
        }
      }
    }

    // Chat System
    function initChatSystem() {
      const chatMessages = [
        "Hi! I'm here to help you find the perfect landing page solution. What can I assist you with today?",
        "Are you looking for a specific industry template?",
        "Do you need help with pricing or features?",
        "Would you like to schedule a demo with our team?"
      ];
      
      // Auto-rotate chat messages
      let messageIndex = 0;
      setInterval(() => {
        const messagesContainer = document.getElementById('chatMessages');
        if (messagesContainer && !state.chatOpen) {
          messageIndex = (messageIndex + 1) % chatMessages.length;
          messagesContainer.innerHTML = `
            <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
              <strong>Sarah (Support)</strong><br>
              ${chatMessages[messageIndex]}
            </div>
          `;
        }
      }, 5000);
    }

    function toggleChat() {
      const chatWindow = document.getElementById('chatWindow');
      const chatToggle = document.getElementById('chatToggle');
      
      state.chatOpen = !state.chatOpen;
      
      if (state.chatOpen) {
        chatWindow.classList.add('active');
        chatToggle.innerHTML = '<i class="fas fa-times"></i>';
        trackEvent('chat_opened');
      } else {
        chatWindow.classList.remove('active');
        chatToggle.innerHTML = '<i class="fas fa-comments"></i>';
      }
    }

    function handleChatKeypress(event) {
      if (event.key === 'Enter') {
        const input = event.target;
        const message = input.value.trim();
        
        if (message) {
          addChatMessage('You', message, 'user');
          input.value = '';
          
          // Simulate response
          setTimeout(() => {
            const responses = [
              "Thanks for your message! A team member will respond shortly.",
              "I'd be happy to help with that. Let me connect you with a specialist.",
              "Great question! Our team can provide detailed information about that.",
              "I'll make sure someone gets back to you about this right away."
            ];
            const response = responses[Math.floor(Math.random() * responses.length)];
            addChatMessage('Sarah', response, 'support');
          }, 1000);
          
          trackEvent('chat_message_sent', { message: message });
        }
      }
    }

    function addChatMessage(sender, message, type) {
      const messagesContainer = document.getElementById('chatMessages');
      const messageDiv = document.createElement('div');
      
      messageDiv.style.cssText = `
        background: ${type === 'user' ? '#2563eb' : 'rgba(255,255,255,0.1)'};
        color: white;
        padding: 1rem;
        border-radius: 8px;
        margin-bottom: 1rem;
        margin-left: ${type === 'user' ? '20px' : '0'};
        margin-right: ${type === 'user' ? '0' : '20px'};
      `;
      
      messageDiv.innerHTML = `<strong>${sender}:</strong><br>${message}`;
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    // Pricing Functions
    // --- REPLACE switchBilling ---
function switchBilling(billing) {
  const toggleOptions = document.querySelectorAll('.toggle-option');
  const priceElements = document.querySelectorAll('.pricing-price');

  // update toggle UI
  toggleOptions.forEach(option => {
    option.classList.toggle('active', option.dataset.billing === billing);
  });

  // update displayed prices (keep $) and period labels
  priceElements.forEach(priceEl => {
    const monthly = priceEl.getAttribute('data-monthly');
    const annual  = priceEl.getAttribute('data-annual');

    // prefer dataset values; fallback to current displayed number if missing
    let priceToShow = billing === 'annual' ? (annual ?? monthly) : (monthly ?? annual);
    if (priceToShow == null) {
      // try to extract numeric from current text
      priceToShow = (priceEl.textContent || '').replace(/[^\d.]/g, '') || '0';
    }

    // ensure no extra decimals, but leave as integer-like if provided
    // (display without cents to match your current UI)
    priceEl.textContent = `$${Number(priceToShow)}`;
  });

  document.querySelectorAll('.pricing-period').forEach(el => {
    el.textContent = billing === 'annual' ? 'per year' : 'per month';
  });

  // keep global state for checkout to read
  state.currentBilling = billing;
  trackEvent('billing_switched', { billing: billing });
}

// --- REPLACE selectPlan ---
function selectPlan(planType) {
  showToast('Redirecting to checkout...', 'info');

  setTimeout(() => {
    // Determine the price element for the plan
    const priceEl = document.getElementById(planType + 'Price');
    let amount = '0';

    if (priceEl) {
      // determine which dataset field to use based on current billing (default to monthly)
      const billing = state.currentBilling || 'monthly';
      const raw = billing === 'annual'
        ? priceEl.getAttribute('data-annual')
        : priceEl.getAttribute('data-monthly');

      // fallback: if dataset missing, try to parse visible text
      if (raw != null) {
        amount = Number(raw).toFixed(2);
      } else {
        const visible = (priceEl.textContent || '').replace(/[^\d.]/g, '');
        amount = (visible ? Number(visible).toFixed(2) : '0.00');
      }
    }

    // Build PayPal URL using the selected amount (one-time payment)
    const businessEmail = 'yacob13579@gmail.com'; // keep your existing email
    const billingLabel = state.currentBilling === 'annual' ? 'Annual' : 'Monthly';
    const itemName = `LandingCraft Pro ${planType.charAt(0).toUpperCase() + planType.slice(1)} Plan (${billingLabel})`;

    const url = 'https://www.paypal.com/cgi-bin/webscr'
      + `?cmd=_xclick`
      + `&business=${encodeURIComponent(businessEmail)}`
      + `&item_name=${encodeURIComponent(itemName)}`
      + `&amount=${encodeURIComponent(amount)}`
      + `&currency_code=USD`;

    window.open(url, '_blank');
  }, 1000);

  trackEvent('plan_selected', { plan: planType, billing: state.currentBilling });
}


    // Utility Functions
    function showToast(message, type = 'info', duration = 3000) {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease forwards';
        setTimeout(() => toast.remove(), 300);
      }, duration);
    }

    function showComingSoon(feature) {
      showToast(`${feature} coming soon! Contact support for early access.`, 'info');
    }

    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    function trackEvent(eventName, properties = {}) {
      console.log('Event tracked:', eventName, properties);
      // Integration with analytics services would go here
    }

    // Animation Functions
    function initScrollAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, { threshold: 0.1 });

      // Observe elements for animation
      document.querySelectorAll('.feature-card, .template-card, .pricing-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'all 0.6s ease';
        observer.observe(el);
      });
    }

    function initCounterAnimations() {
      const counters = document.querySelectorAll('.hero-stat');
      
      const animateCounter = (element) => {
        const target = parseInt(element.dataset.target);
        const numberElement = element.querySelector('.hero-stat-number');
        const increment = target / 100;
        let current = 0;
        
        const updateCounter = () => {
          if (current < target) {
            current += increment;
            if (target === 24) {
              numberElement.textContent = Math.floor(current) + '/7';
            } else {
              numberElement.textContent = Math.floor(current) + (target > 99 ? '%' : '+');
            }
            requestAnimationFrame(updateCounter);
          } else {
            if (target === 24) {
              numberElement.textContent = '24/7';
            } else {
              numberElement.textContent = target + (target > 99 ? '%' : '+');
            }
          }
        };
        
        updateCounter();
      };

      // Trigger counter animation when hero section is visible
      const heroObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            counters.forEach(counter => animateCounter(counter));
            heroObserver.disconnect();
          }
        });
      }, { threshold: 0.5 });

      const heroSection = document.getElementById('home');
      if (heroSection) {
        heroObserver.observe(heroSection);
      }
    }

    function initParticleSystem() {
      const particlesContainer = document.getElementById('heroParticles');
      const particleCount = 50;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    function initMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      const navLinks = document.getElementById('navLinks');
      
      if (mobileMenu && navLinks) {
        mobileMenu.addEventListener('click', () => {
          navLinks.classList.toggle('active');
          
          const spans = mobileMenu.querySelectorAll('span');
          if (navLinks.classList.contains('active')) {
            spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
            spans[1].style.opacity = '0';
            spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
          } else {
            spans.forEach(span => {
              span.style.transform = '';
              span.style.opacity = '';
            });
          }
        });
      }
    }

    function initKeyboardShortcuts() {
      document.addEventListener('keydown', (e) => {
        // ESC to close modals
        if (e.key === 'Escape') {
          const activeModal = document.querySelector('.modal.active');
          if (activeModal) {
            activeModal.classList.remove('active');
            document.body.style.overflow = '';
          }
        }
        
        // Ctrl + K to open search
        if (e.ctrlKey && e.key === 'k') {
          e.preventDefault();
          const searchInput = document.getElementById('searchInput');
          if (searchInput) {
            searchInput.focus();
          }
        }
      });
    }

    function initAnalytics() {
      // Track page load
      trackEvent('page_loaded', {
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent,
        referrer: document.referrer
      });
      
      // Track scroll depth
      let maxScroll = 0;
      window.addEventListener('scroll', debounce(() => {
        const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
        if (scrollPercent > maxScroll) {
          maxScroll = scrollPercent;
          if (maxScroll % 25 === 0) { // Track at 25%, 50%, 75%, 100%
            trackEvent('scroll_depth', { percent: maxScroll });
          }
        }
      }, 500));
    }

    // Contact Form Functions
    function submitContactForm(event) {
      event.preventDefault();
      
      const form = event.target;
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      
      const submitBtn = document.getElementById('contactSubmitBtn');
      const originalText = submitBtn.innerHTML;
      
      submitBtn.innerHTML = '<span class="loading"></span> Scheduling...';
      submitBtn.disabled = true;
      
      // Simulate form submission
      setTimeout(() => {
        submitBtn.innerHTML = '<span class="success-check">✓</span> Demo Scheduled!';
        showToast('Demo request submitted! Our team will contact you within 2 hours.', 'success');
        
        setTimeout(() => {
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;
          form.reset();
        }, 3000);
        
        trackEvent('demo_requested', data);
      }, 2000);
    }

    // Additional Modal Functions
    function openDemoModal() {
      openModal('videoModal');
      trackEvent('demo_modal_opened');
    }

    function openVideoModal() {
      openModal('videoModal');
      const video = document.getElementById('demoVideo');
      if (video) {
        video.play();
      }
      trackEvent('video_demo_started');
    }

    function openContactModal() {
      scrollToSection('contact');
      showToast('Scroll down to contact our team!', 'info');
    }

    function openAnalyticsDemo() {
      showToast('Analytics demo coming soon! Contact sales for a preview.', 'info');
      trackEvent('analytics_demo_interest');
    }

    function openCustomDevelopmentModal() {
      showToast('Custom development inquiries - please use our contact form below.', 'info');
      scrollToSection('contact');
      trackEvent('custom_development_interest');
    }

    function scheduleDemoModal() {
      scrollToSection('contact');
      showToast('Use the form below to schedule your enterprise demo!', 'success');
      trackEvent('enterprise_demo_interest');
    }

    function loadMoreTemplates() {
      showToast('More templates coming soon! Subscribe to our newsletter for updates.', 'info');
      trackEvent('load_more_templates');
    }

    // Global click handlers for modal closing
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
        document.body.style.overflow = '';
      }
    });

    // Initialize all additional template generators
    function generateHealthcareTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical Excellence Center</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', system-ui, sans-serif; background: #f0f9ff; color: #0c4a6e; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: linear-gradient(135deg, #0369a1, #0284c7); color: white; padding: 100px 0; text-align: center; }
    h1 { font-size: 3.2rem; margin-bottom: 30px; font-weight: 700; }
    .cta-btn { background: #dc2626; color: white; padding: 20px 40px; text-decoration: none; border-radius: 12px; font-weight: 600; }
    .services { padding: 80px 0; }
    .services-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-top: 60px; }
    .service { background: white; padding: 40px; border-radius: 20px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.08); border-top: 5px solid #0369a1; }
    .service-icon { width: 80px; height: 80px; background: #e0f2fe; border-radius: 50%; margin: 0 auto 30px; display: flex; align-items: center; justify-content: center; font-size: 2rem; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Medical Excellence Center</h1>
      <p style="font-size: 1.3rem; margin-bottom: 50px;">Comprehensive healthcare services with personalized patient care and advanced medical technology</p>
      <a href="#" class="cta-btn">Book Your Appointment</a>
    </div>
  </header>
  
  <section class="services">
    <div class="container">
      <h2 style="text-align: center; font-size: 2.8rem; margin-bottom: 30px;">Our Medical Services</h2>
      <div class="services-grid">
        <div class="service">
          <div class="service-icon">🏥</div>
          <h3>Primary Care</h3>
          <p>Comprehensive family medicine with preventive care, chronic disease management, and wellness programs.</p>
        </div>
        <div class="service">
          <div class="service-icon">🔬</div>
          <h3>Diagnostic Services</h3>
          <p>State-of-the-art diagnostic imaging, laboratory services, and advanced screening technologies.</p>
        </div>
        <div class="service">
          <div class="service-icon">💊</div>
          <h3>Specialty Care</h3>
          <p>Expert specialist consultations in cardiology, orthopedics, dermatology, and internal medicine.</p>
        </div>
      </div>
    </div>
  </section>
</body>
</html>`;
    }

    function generateEcommerceTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premium Store</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: #fff; color: #111827; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: #111827; color: white; padding: 80px 0; text-align: center; }
    h1 { font-size: 3.5rem; margin-bottom: 30px; font-weight: 800; }
    .cta-btn { background: #f59e0b; color: #111827; padding: 20px 40px; text-decoration: none; border-radius: 12px; font-weight: 700; }
    .products { padding: 100px 0; background: #f9fafb; }
    .products-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; margin-top: 60px; }
    .product { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.1); transition: transform 0.3s; }
    .product:hover { transform: translateY(-10px); }
    .product-image { height: 250px; background: linear-gradient(45deg, #f3f4f6, #e5e7eb); display: flex; align-items: center; justify-content: center; color: #6b7280; font-weight: 600; }
    .product-info { padding: 30px; }
    .price { font-size: 2rem; font-weight: 800; color: #059669; margin: 15px 0; }
    .product-btn { background: #111827; color: white; padding: 15px 30px; border: none; border-radius: 10px; width: 100%; cursor: pointer; font-weight: 600; font-size: 1.1rem; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Premium Product Collection</h1>
      <p style="font-size: 1.4rem; margin-bottom: 50px;">Discover our exclusive selection of premium products with worldwide shipping</p>
      <a href="#" class="cta-btn">Shop Collection</a>
    </div>
  </header>
  
  <section class="products">
    <div class="container">
      <h2 style="text-align: center; font-size: 2.8rem; margin-bottom: 30px;">Featured Products</h2>
      <div class="products-grid">
        <div class="product">
          <div class="product-image">Premium Product A</div>
          <div class="product-info">
            <h3>Luxury Item</h3>
            <p>Exceptional quality with premium materials and expert craftsmanship.</p>
            <div class="price">$299</div>
            <button class="product-btn">Add to Cart</button>
          </div>
        </div>
        <div class="product">
          <div class="product-image">Premium Product B</div>
          <div class="product-info">
            <h3>Best Seller</h3>
            <p>Our most popular item with thousands of satisfied customers.</p>
            <div class="price">$199</div>
            <button class="product-btn">Add to Cart</button>
          </div>
        </div>
        <div class="product">
          <div class="product-image">Premium Product C</div>
          <div class="product-info">
            <h3>New Arrival</h3>
            <p>Latest addition to our collection with innovative features.</p>
            <div class="price">$149</div>
            <button class="product-btn">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>
  </section>
</body>
</html>`;
    }

    function generateRealEstateTemplate() {
      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elite Properties</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', system-ui, sans-serif; background: #fefefe; color: #1f2937; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: linear-gradient(135deg, #1f2937, #374151); color: white; padding: 100px 0; text-align: center; }
    h1 { font-size: 3.8rem; margin-bottom: 30px; font-weight: 800; }
    .cta-btn { background: #dc2626; color: white; padding: 20px 40px; text-decoration: none; border-radius: 12px; font-weight: 700; }
    .listings { padding: 100px 0; background: #f9fafb; }
    .listings-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px; margin-top: 60px; }
    .listing { background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.1); }
    .listing-image { height: 280px; background: linear-gradient(45deg, #e5e7eb, #d1d5db); display: flex; align-items: center; justify-content: center; color: #6b7280; font-weight: 600; font-size: 1.2rem; }
    .listing-info { padding: 30px; }
    .price { font-size: 2.2rem; font-weight: 800; color: #dc2626; margin-bottom: 15px; }
    .details { display: flex; gap: 20px; margin: 20px 0; color: #6b7280; font-weight: 500; }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Elite Properties</h1>
      <p style="font-size: 1.4rem; margin-bottom: 50px;">Luxury real estate with premium service and exclusive property listings</p>
      <a href="#" class="cta-btn">View Properties</a>
    </div>
  </header>
  
  <section class="listings">
    <div class="container">
      <h2 style="text-align: center; font-size: 2.8rem; margin-bottom: 30px;">Featured Properties</h2>
      <div class="listings-grid">
        <div class="listing">
          <div class="listing-image">Luxury Downtown Condo</div>
          <div class="listing-info">
            <h3>Modern Downtown Condominium</h3>
            <div class="price">$850,000</div>
            <div class="details">
              <span>3 bed</span>
              <span>2 bath</span>
              <span>1,500 sqft</span>
            </div>
            <p>Stunning downtown condo with panoramic city views and premium finishes throughout.</p>
          </div>
        </div>
        <div class="listing">
          <div class="listing-image">Executive Family Home</div>
          <div class="listing-info">
            <h3>Executive Family Residence</h3>
            <div class="price">$1,250,000</div>
            <div class="details">
              <span>4 bed</span>
              <span>3 bath</span>
              <span>2,200 sqft</span>
            </div>
            <p>Elegant family home in prestigious neighborhood with premium amenities and landscaping.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</body>
</html>`;
    }

    // Enterprise-grade loading performance
    const performanceOptimizations = {
      lazyLoadImages: () => {
        const images = document.querySelectorAll('img[data-src]');
        const imageObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src;
              img.classList.remove('lazy');
              imageObserver.unobserve(img);
            }
          });
        });
        images.forEach(img => imageObserver.observe(img));
      },
      
      preloadCriticalResources: () => {
        const criticalResources = [
          'https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap',
          'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css'
        ];
        
        criticalResources.forEach(href => {
          const link = document.createElement('link');
          link.rel = 'preload';
          link.as = 'style';
          link.href = href;
          document.head.appendChild(link);
        });
      }
    };

    // Initialize performance optimizations
    performanceOptimizations.preloadCriticalResources();
    performanceOptimizations.lazyLoadImages();

    // Service Worker for caching (would be in separate file in production)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(() => {
        console.log('Service Worker registration failed');
      });
    }

    // Error handling and monitoring
    window.addEventListener('error', (e) => {
      trackEvent('javascript_error', {
        message: e.message,
        filename: e.filename,
        lineno: e.lineno,
        stack: e.error ? e.error.stack : null
      });
    });

    window.addEventListener('unhandledrejection', (e) => {
      trackEvent('promise_rejection', {
        reason: e.reason
      });
    });

    // Final initialization call
    console.log('LandingCraft Pro initialized successfully');
    showToast('System ready! All features loaded.', 'success', 2000);

    /* =========================
       Start of second script block (AI + KB)
       ========================= */

  const AI_CONFIG = {
      name: 'LandingCraft AI',
      personality: 'professional, helpful, and knowledgeable',
      capabilities: [
        'Product information and pricing',
        'Template recommendations',
        'Demo scheduling',
        'Order processing',
        'Technical support',
        'Billing inquiries'
      ]
    };

    // Knowledge Base - All the information from the page
    const KNOWLEDGE_BASE = {
      company: {
        name: 'LandingCraft Pro',
        tagline: 'Professional Landing Page Templates',
        description: 'Premium, conversion-optimized landing page templates for modern businesses'
      },
      
      templates: {
        consulting: {
          name: 'Executive Consulting',
          price: 297,
          category: 'business',
          description: 'Professional consulting template with case studies and testimonials',
          features: ['Lead capture optimization', 'Case study sections', 'ROI calculators', 'Enterprise testimonials'],
          bestFor: 'Consulting firms, business advisors, strategic consultants'
        },
        saas: {
          name: 'SaaS Launch Pro',
          price: 497,
          category: 'saas',
          description: 'Complete SaaS landing page with pricing tables and feature comparisons',
          features: ['Interactive pricing calculator', 'Feature comparison matrix', 'Free trial signup flow', 'Customer testimonials'],
          bestFor: 'Software companies, SaaS startups, tech platforms'
        },
        legal: {
          name: 'Legal Authority',
          price: 397,
          category: 'legal',
          description: 'Professional legal services template with practice areas and attorney profiles',
          features: ['Attorney biography sections', 'Case results showcase', 'Consultation scheduling', 'Client testimonials'],
          bestFor: 'Law firms, attorneys, legal consultants'
        },
        healthcare: {
          name: 'Medical Practice',
          price: 447,
          category: 'healthcare',
          description: 'HIPAA-compliant healthcare template with appointment booking',
          features: ['Online appointment booking', 'Service descriptions', 'Doctor profiles', 'Patient testimonials'],
          bestFor: 'Medical practices, healthcare providers, clinics'
        },
        ecommerce: {
          name: 'Premium Store',
          price: 597,
          category: 'ecommerce',
          description: 'High-converting e-commerce template with shopping cart integration',
          features: ['Product catalog system', 'Shopping cart functionality', 'Payment gateway integration', 'Customer reviews'],
          bestFor: 'Online stores, e-commerce businesses, product sellers'
        },
        realestate: {
          name: 'Property Showcase',
          price: 347,
          category: 'realestate',
          description: 'Professional real estate template with property listings',
          features: ['Property search functionality', 'Virtual tour integration', 'Mortgage calculator', 'Agent contact forms'],
          bestFor: 'Real estate agents, property developers, rental companies'
        }
      },
      
      pricing: {
        plans: {
          professional: {
            name: 'Professional Plan',
            price: 197,
            billing: 'one-time',
            features: [
              'Access to all premium templates',
              'Lifetime updates',
              'Commercial license',
              'Priority support',
              'Customization guide',
              'Source code included'
            ]
          },
          enterprise: {
            name: 'Enterprise Plan',
            price: 497,
            billing: 'one-time',
            features: [
              'Everything in Professional',
              'Custom development',
              'Dedicated support',
              'White-label rights',
              'API integrations',
              'Training sessions',
              'Unlimited sites'
            ]
          }
        }
      },
      
      coupons: {
        'LAUNCH25': { type: 'percent', value: 25, description: '25% off launch special' },
        'SAVE50': { type: 'fixed', value: 50, description: '$50 discount' },
        'ENTERPRISE20': { type: 'percent', value: 20, description: '20% enterprise discount' },
        'NEWCLIENT': { type: 'percent', value: 15, description: '15% new client discount' },
        'HOLIDAY30': { type: 'percent', value: 30, description: '30% holiday special' }
      },
      
      features: [
        'Mobile-responsive design',
        'SEO optimized',
        'Fast loading times',
        'Cross-browser compatibility',
        'Analytics integration',
        'A/B testing ready',
        'Conversion optimization',
        'Professional support'
      ],
      
      support: {
        hours: '24/7',
        channels: ['Live chat', 'Email', 'Phone'],
        responseTime: '< 2 hours',
        satisfaction: '98%'
      }
    };

    // AI State Management
    let aiState = {
      chatOpen: false,
      conversationHistory: [],
      userContext: {},
      currentIntention: null,
      isTyping: false
    };

    // Initialize AI Chat
    document.addEventListener('DOMContentLoaded', function() {
      initializeAIChat();
    });

    function initializeAIChat() {
      addWelcomeMessage();
      updateNotificationBadge();
    }

    function addWelcomeMessage() {
      const welcomeMessages = [
        "👋 Hi! I'm your LandingCraft AI assistant. I can help you with templates, pricing, demos, and orders!",
        "I know everything about our premium templates and can guide you to the perfect solution for your business."
      ];
      
      welcomeMessages.forEach((message, index) => {
        setTimeout(() => {
          addMessage(message, 'ai');
          if (index === welcomeMessages.length - 1) {
            showQuickActions();
          }
        }, index * 1500);
      });
    }

    function showQuickActions() {
      const actionsHtml = `
        <div class="message-actions">
          <div class="action-btn primary" onclick="sendQuickMessage('templates')">🎨 Browse Templates</div>
          <div class="action-btn secondary" onclick="sendQuickMessage('pricing')">💰 View Pricing</div>
          <div class="action-btn" onclick="sendQuickMessage('demo')">🚀 Book Demo</div>
        </div>
      `;
      
      const lastMessage = document.querySelector('.chat-messages .message:last-child');
      if (lastMessage && lastMessage.classList.contains('ai')) {
        lastMessage.innerHTML += actionsHtml;
      }
    }

    function toggleChat() {
      const chatWindow = document.getElementById('chatWindow');
      const chatToggle = document.getElementById('chatToggle');
      const notificationBadge = document.getElementById('notificationBadge');
      
      aiState.chatOpen = !aiState.chatOpen;
      
      if (aiState.chatOpen) {
        chatWindow.classList.add('active');
        chatToggle.innerHTML = '<i class="fas fa-times"></i>';
        notificationBadge.style.display = 'none';
        
        // Focus input
        setTimeout(() => {
          document.getElementById('chatInput').focus();
        }, 300);
      } else {
        chatWindow.classList.remove('active');
        chatToggle.innerHTML = '<i class="fas fa-comments"></i>';
      }
    }

    function handleChatKeypress(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        sendMessage();
      }
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (message && !aiState.isTyping) {
        addMessage(message, 'user');
        input.value = '';
        processUserMessage(message);
      }
    }

    function sendQuickMessage(type) {
      const quickMessages = {
        pricing: "What are your pricing plans?",
        templates: "Show me your templates",
        demo: "I'd like to book a demo",
        support: "I need technical support",
        order: "I want to place an order"
      };
      
      const message = quickMessages[type] || type;
      addMessage(message, 'user');
      processUserMessage(message);
    }

    function addMessage(content, sender, options = {}) {
      const messagesContainer = document.getElementById('chatMessages');
      const messageDiv = document.createElement('div');
      
      messageDiv.className = `message ${sender} bounce-in`;
      messageDiv.innerHTML = `
        ${content}
        ${options.showTime !== false ? `<div class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>` : ''}
      `;
      
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
      
      // Store in conversation history
      aiState.conversationHistory.push({
        content,
        sender,
        timestamp: new Date().toISOString()
      });
    }

    function showTypingIndicator() {
      if (aiState.isTyping) return;
      
      aiState.isTyping = true;
      const messagesContainer = document.getElementById('chatMessages');
      const typingDiv = document.createElement('div');
      
      typingDiv.className = 'typing-indicator';
      typingDiv.id = 'typingIndicator';
      typingDiv.innerHTML = `
        <div class="typing-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <span style="margin-left: 8px; font-size: 12px; opacity: 0.8;">AI is thinking...</span>
      `;
      
      messagesContainer.appendChild(typingDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function hideTypingIndicator() {
      const typingIndicator = document.getElementById('typingIndicator');
      if (typingIndicator) {
        typingIndicator.remove();
      }
      aiState.isTyping = false;
    }

    // AI Message Processing Engine
    function processUserMessage(message) {
      showTypingIndicator();
      
      // Simulate AI processing time
      const processingTime = Math.random() * 2000 + 1000;
      
      setTimeout(() => {
        hideTypingIndicator();
        const response = generateAIResponse(message);
        addMessage(response.content, 'ai');
        
        // Handle special actions
        if (response.actions) {
          handleResponseActions(response.actions);
        }
      }, processingTime);
    }
function processUserMessage(message) {
      showTypingIndicator();
      
      // Simulate AI processing time
      const processingTime = Math.random() * 2000 + 1000;
      
      setTimeout(() => {
        hideTypingIndicator();
        const response = generateAIResponse(message);
        addMessage(response.content, 'ai');
        
        // Handle special actions
        if (response.actions) {
          handleResponseActions(response.actions);
        }
      }, processingTime);
    }

    function generateAIResponse(userMessage) {
      const message = userMessage.toLowerCase();
      
      // Intent Recognition
      if (containsAny(message, ['pricing', 'price', 'cost', 'how much', 'plans'])) {
        return generatePricingResponse();
      }
      
      if (containsAny(message, ['template', 'design', 'theme', 'layout'])) {
        return generateTemplateResponse(message);
      }
      
      if (containsAny(message, ['demo', 'preview', 'show', 'see', 'example'])) {
        return generateDemoResponse();
      }
      
      if (containsAny(message, ['order', 'buy', 'purchase', 'checkout', 'payment'])) {
        return generateOrderResponse();
      }
      
      if (containsAny(message, ['coupon', 'discount', 'promo', 'code'])) {
        return generateCouponResponse();
      }
      
      if (containsAny(message, ['support', 'help', 'problem', 'issue', 'bug'])) {
        return generateSupportResponse();
      }
      
      if (containsAny(message, ['feature', 'what does', 'capabilities', 'includes'])) {
        return generateFeatureResponse();
      }
      
      if (containsAny(message, ['hello', 'hi', 'hey', 'start', 'begin'])) {
        return generateGreetingResponse();
      }
      
      // Default response with suggestions
      return {
        content: `I understand you're asking about "${userMessage}". Let me help you with that! Here are some things I can assist you with:`,
        actions: ['showMainOptions']
      };
    }

    function generatePricingResponse() {
      const plans = KNOWLEDGE_BASE.pricing.plans;
      let response = `💰 Here are our pricing plans:\n\n<div class="template-preview">
        <h4>🌟 Professional Plan - ${plans.professional.price}</h4>
        <p>Perfect for individuals and small businesses</p>
        <div style="font-size: 12px; opacity: 0.9;">
          • ${plans.professional.features.slice(0, 3).join('<br>• ')}
        </div>
      </div>
      
      <div class="template-preview">
        <h4>🚀 Enterprise Plan - ${plans.enterprise.price}</h4>
        <p>Complete solution for large organizations</p>
        <div style="font-size: 12px; opacity: 0.9;">
          • ${plans.enterprise.features.slice(0, 3).join('<br>• ')}
        </div>
      </div>
      
      💡 <strong>Pro tip:</strong> Use coupon code <strong>LAUNCH25</strong> for 25% off your first order!`;
      
      return {
        content: response,
        actions: ['showPricingActions']
      };
    }

    function generateTemplateResponse(message) {
      const templates = KNOWLEDGE_BASE.templates;
      
      // Check for specific template mentions
      const templateKeys = Object.keys(templates);
      const mentionedTemplate = templateKeys.find(key =>
        message.includes(key) || message.includes(templates[key].category)
      );
      
      if (mentionedTemplate) {
        const template = templates[mentionedTemplate];
        return {
          content: `🎨 <strong>${template.name}</strong> - Perfect choice!\n\n<div class="template-preview">
            <h4>${template.name}</h4>
            <p>${template.description}</p>
            <div class="template-price">${template.price}</div>
            <div style="font-size: 12px; opacity: 0.9;">
              ✨ Features: ${template.features.slice(0, 2).join(', ')}
            </div>
            <div style="font-size: 12px; opacity: 0.8; margin-top: 8px;">
              📊 Best for: ${template.bestFor}
            </div>
          </div>`,
          actions: ['showTemplateActions', mentionedTemplate]
        };
      }
      
      // Show all templates
      let response = "🎨 Here are our premium templates:\n\n";
      
      Object.entries(templates).forEach(([key, template]) => {
        response += `<div class="template-preview">
          <h4>${template.name} - ${template.price}</h4>
          <p>${template.description}</p>
          <div style="font-size: 12px; opacity: 0.8;">Best for: ${template.bestFor}</div>
        </div>`;
      });
      
      response += "\n💡 Click on any template name to see a live preview!";
      
      return {
        content: response,
        actions: ['showAllTemplateActions']
      };
    }

    function generateDemoResponse() {
      return {
        content: `🚀 I'd be happy to set up a demo for you!\n\n<div class="template-preview">
          <h4>📅 Schedule Your Demo</h4>
          <p>Get a personalized walkthrough of our templates and features</p>
          <div style="font-size: 12px; opacity: 0.9;">
            • 30-minute one-on-one session<br>
            • See templates in action<br>
            • Ask questions in real-time<br>
            • Get customization advice
          </div>
        </div>
        
        What type of business are you in? This helps me recommend the best templates to show you during the demo.`,
        actions: ['showDemoActions']
      };
    }

    function generateOrderResponse() {
      return {
        content: `🛒 Ready to get started? Great choice!\n\nI can help you:\n\n<div class="template-preview">
          <h4>🎯 Quick Order Process</h4>
          <p>Just tell me which template or plan you'd like:</p>
          <div style="font-size: 12px; opacity: 0.9;">
            1. Choose your template/plan<br>
            2. Apply any coupon codes<br>
            3. Secure PayPal checkout<br>
            4. Instant download access
          </div>
        </div>
        
        Which template caught your eye, or would you prefer one of our complete plans?`,
        actions: ['showOrderActions']
      };
    }

    function generateCouponResponse() {
      const coupons = KNOWLEDGE_BASE.coupons;
      return {
        content: `🏷️ Here are our current discount codes:\n\n<div class="template-preview">
          <h4>💰 Active Promotions</h4>
          <div style="font-size: 13px; opacity: 0.9;">
            <strong>LAUNCH25</strong> - ${coupons.LAUNCH25.description}<br>
            <strong>SAVE50</strong> - ${coupons.SAVE50.description}<br>
            <strong>NEWCLIENT</strong> - ${coupons.NEWCLIENT.description}<br>
            <strong>ENTERPRISE20</strong> - ${coupons.ENTERPRISE20.description}
          </div>
        </div>
        
        🎉 <strong>Best deal right now:</strong> Use <strong>LAUNCH25</strong> for 25% off any order!
        
        Which template would you like to apply a coupon to?`,
        actions: ['showCouponActions']
      };
    }

    function generateSupportResponse() {
      return {
        content: `🛠️ I'm here to help! Our support team is available:\n\n<div class="template-preview">
          <h4>📞 Support Options</h4>
          <div style="font-size: 13px; opacity: 0.9;">
            <strong>Live Chat:</strong> 24/7 instant help<br>
            <strong>Email:</strong> support@landingcraft.com<br>
            <strong>Response Time:</strong> < 2 hours<br>
            <strong>Satisfaction Rate:</strong> 98%
          </div>
        </div>
        
        What specific issue can I help you with today? I can assist with:
        • Technical questions
        • Template customization
        • Billing inquiries
        • Order status`,
        actions: ['showSupportActions']
      };
    }

    function generateFeatureResponse() {
      const features = KNOWLEDGE_BASE.features;
      return {
        content: `✨ Our templates include these powerful features:\n\n<div class="template-preview">
          <h4>🎯 Template Features</h4>
          <div style="font-size: 12px; opacity: 0.9;">
            • ${features.slice(0, 4).join('<br>• ')}<br>
            • ${features.slice(4).join('<br>• ')}
          </div>
        </div>
        
        All templates also include:
        📱 Mobile-first design
        ⚡ Lightning-fast loading
        🎨 Easy customization
        📈 Conversion optimization`,
        actions: ['showFeatureActions']
      };
    }

    // ... the file continues with many helper functions (applyCouponCode, previewTemplate, processOrder, analytics messages, email helpers, NLP helpers, etc.)
    // For completeness you already have everything from the original two script blocks merged above.

(function () {
  // tiny helper: create modal DOM, return {overlay, close()}
  function buildModal({ idPrefix, title, contentHtml }) {
    const overlay = document.createElement('div');
    overlay.className = idPrefix + '-overlay';
    overlay.setAttribute('role', 'dialog');
    overlay.setAttribute('aria-modal', 'true');
    overlay.style.position = 'fixed';
    overlay.style.inset = '0';
    overlay.style.display = 'flex';
    overlay.style.alignItems = 'center';
    overlay.style.justifyContent = 'center';
    overlay.style.background = 'rgba(2,6,23,0.6)';
    overlay.style.zIndex = '99999';
    overlay.style.padding = '1.5rem';
    overlay.style.backdropFilter = 'blur(2px)';

    // panel
    const panel = document.createElement('div');
    panel.className = idPrefix + '-panel';
    panel.style.maxWidth = '720px';
    panel.style.width = '100%';
    panel.style.background = 'linear-gradient(180deg,#0f1724,#111827)';
    panel.style.borderRadius = '10px';
    panel.style.padding = '1.25rem';
    panel.style.boxShadow = '0 12px 30px rgba(2,6,23,0.6)';
    panel.style.color = 'var(--text, #e6eef8)';
    panel.style.pointerEvents = 'auto';

    // header
    const header = document.createElement('div');
    header.style.display = 'flex';
    header.style.alignItems = 'center';
    header.style.justifyContent = 'space-between';
    header.style.marginBottom = '0.6rem';

    const h = document.createElement('div');
    h.textContent = title || '';
    h.style.fontSize = '1.1rem';
    h.style.fontWeight = '700';
    header.appendChild(h);

    const closeBtn = document.createElement('button');
    closeBtn.innerHTML = '&times;';
    closeBtn.setAttribute('aria-label', 'Close');
    closeBtn.style.background = 'none';
    closeBtn.style.border = 'none';
    closeBtn.style.color = 'var(--text-muted, #9aa4b2)';
    closeBtn.style.fontSize = '1.35rem';
    closeBtn.style.cursor = 'pointer';
    header.appendChild(closeBtn);

    const body = document.createElement('div');
    body.className = idPrefix + '-body';
    body.innerHTML = contentHtml || '';

    panel.appendChild(header);
    panel.appendChild(body);
    overlay.appendChild(panel);

    // append
    document.body.appendChild(overlay);

    // focus close button for accessibility
    closeBtn.focus();

    // close function
    function close() {
      // remove listeners then remove DOM
      document.removeEventListener('keydown', escHandler);
      overlay.remove();
    }

    // close on closeBtn
    closeBtn.addEventListener('click', close);

    // close on backdrop click (only when clicking overlay, not panel)
    overlay.addEventListener('click', function (e) {
      if (e.target === overlay) close();
    });

    // close on Escape
    function escHandler(e) {
      if (e.key === 'Escape') close();
    }
    document.addEventListener('keydown', escHandler);

    return { overlay, panel, body, close };
  }

  /* ---------- Security Modal (exposed globally) ---------- */
  window.openSecurityModal = function openSecurityModal() {
    const content = `
      <p><strong>SOC 2 Type II</strong>, SSO (SAML / OIDC), role-based access, and 256-bit encryption on all data in transit and at rest.</p>
      <ul style="margin-top:0.6rem; color:var(--text-muted,#9aa4b2);">
        <li>SAML/SSO integrations (Okta, Azure AD)</li>
        <li>IP allowlisting & session controls</li>
        <li>Regular penetration tests & vulnerability scans</li>
      </ul>
      <div style="margin-top:1rem; text-align:right;">
        <button class="btn btn-outline" id="sec-close">Close</button>
        <button class="btn btn-primary" id="sec-request" style="margin-left:0.5rem;">Request Compliance Pack</button>
      </div>
    `;
    const m = buildModal({ idPrefix: 'securityModal', title: 'Enterprise Security', contentHtml: content });

    // wire buttons
    const btnClose = m.panel.querySelector('#sec-close');
    if (btnClose) btnClose.addEventListener('click', m.close);

    const btnReq = m.panel.querySelector('#sec-request');
    if (btnReq) btnReq.addEventListener('click', function () {
      if (typeof showToast === 'function') {
        showToast('Compliance pack request sent. We will email the package shortly.', 'success', 3500);
      } else {
        alert('Compliance pack request sent.');
      }
      m.close();
    });
  };

  /* ---------- Support Modal (exposed globally) ---------- */
  window.openSupportModal = function openSupportModal() {
    const content = `
      <p>24/7 dedicated support with SLA options, priority routing, and a named account team.</p>
      <p style="color:var(--text-muted,#9aa4b2)"><strong>Avg response time:</strong> &lt; 2 hours for priority tickets.</p>
      <div style="margin-top:1rem;">
        <button class="btn btn-outline" id="sup-contact">Contact Sales</button>
        <button class="btn btn-primary" id="sup-ticket" style="margin-left:0.5rem;">Open Support Ticket</button>
      </div>
    `;
    const m = buildModal({ idPrefix: 'supportModal', title: 'Dedicated Support', contentHtml: content });

    const contactBtn = m.panel.querySelector('#sup-contact');
    if (contactBtn) contactBtn.addEventListener('click', function () {
      m.close();
      // preserve existing helper if present
      if (typeof scrollToSection === 'function') {
        scrollToSection('contact');
      } else if (document.getElementById('contact')) {
        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
      } else {
        if (typeof showToast === 'function') showToast('Contact Sales: Please visit the Contact section.', 'info', 3000);
      }
    });

    const ticketBtn = m.panel.querySelector('#sup-ticket');
    if (ticketBtn) ticketBtn.addEventListener('click', function () {
      m.close();
      if (typeof showToast === 'function') {
        showToast('Support ticket created — our team will reach out shortly', 'success', 3500);
      } else {
        alert('Support ticket created — our team will reach out shortly');
      }
    });
  };

  /* ---------- Development Modal + form submit (exposed globally) ---------- */
  window.openDevelopmentModal = function openDevelopmentModal() {
    const content = `
      <p>We’ll match you with a solutions engineer and produce a scoped proposal and quote.</p>
      <form id="devQuoteForm" style="margin-top:0.8rem;">
        <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
          <input name="name" placeholder="Full name" required style="flex:1; padding:0.6rem; border-radius:8px; border:1px solid var(--border,#2b3948); background:transparent; color:var(--text,#e6eef8);" />
          <input name="email" type="email" placeholder="Email" required style="flex:1; padding:0.6rem; border-radius:8px; border:1px solid var(--border,#2b3948); background:transparent; color:var(--text,#e6eef8);" />
        </div>
        <textarea name="details" placeholder="Brief project description" rows="4" required style="width:100%; margin-top:0.6rem; padding:0.6rem; border-radius:8px; border:1px solid var(--border,#2b3948); background:transparent; color:var(--text,#e6eef8);"></textarea>
        <div style="margin-top:0.6rem; text-align:right;">
          <button type="button" class="btn btn-outline" id="dev-cancel">Cancel</button>
          <button type="submit" class="btn btn-primary" id="dev-send" style="margin-left:0.5rem;">Send Request</button>
        </div>
      </form>
    `;
    const m = buildModal({ idPrefix: 'devModal', title: 'Custom Development — Request a Quote', contentHtml: content });

    const cancelBtn = m.panel.querySelector('#dev-cancel');
    if (cancelBtn) cancelBtn.addEventListener('click', m.close);

    const form = m.panel.querySelector('#devQuoteForm');
    if (form) {
      form.addEventListener('submit', function (ev) {
        ev.preventDefault();
        const data = Object.fromEntries(new FormData(form).entries());
        // Replace the block below with an actual fetch() to your API endpoint if needed:
        console.log('Dev quote request:', data);

        if (typeof showToast === 'function') {
          showToast('Quote request sent — our team will contact you within 1 business day.', 'success', 4500);
        } else {
          alert('Quote request sent — our team will contact you within 1 business day.');
        }
        m.close();
      });
    }
  };

  // lightweight safeguard: expose close function name in case other scripts expect it
  window.closeEnterpriseModal = function () {
    // try to remove any overlays we created (best-effort)
    ['securityModal-overlay', 'supportModal-overlay', 'devModal-overlay'].forEach(id => {
      const el = document.querySelector('.' + id) || document.getElementById(id);
      if (el && el.remove) el.remove();
    });
  };
})();

(function(){
  'use strict';

  /* ------------------------- Helpers ------------------------- */
  function $id(id){ return document.getElementById(id); }
  function qs(sel){ return document.querySelector(sel); }
  function getPanel(){ return $id('lcChatPanel') || qs('.lc-chat-panel') || qs('#lcChatWrap .lc-chat-panel'); }
  function getBody(){ return $id('lcChatBody') || qs('.lc-chat-body'); }
  function getFooter(){ return qs('.lc-chat-footer') || null; }
  function getToggle(){ return $id('lcToggle') || qs('#lcToggle, .lc-toggle-btn'); }

  // Use site renderer if present, else local fallback
  function renderMessage(text, who='ai'){
    try{
      if (typeof window.addMsg === 'function'){ window.addMsg(text, who); return; }
      if (typeof window.addMessage === 'function'){ window.addMessage(text, who); return; }
    }catch(e){ console.warn('renderMessage wrapper error', e); }
    // fallback DOM insertion
    const body = getBody();
    if (!body) return console.warn('chat-flow: .lc-chat-body not found to render message');
    const div = document.createElement('div');
    div.className = 'lc-chat-msg ' + (who==='user' ? 'user' : 'ai');
    div.innerHTML = String(text).replace(/</g,'&lt;');
    body.appendChild(div);
    body.scrollTop = body.scrollHeight;
  }

  // remove any existing quick action area
  function removeQuickArea(){
    const ex = document.getElementById('lcQuickFlowArea');
    if (ex) ex.remove();
  }

  /* ------------------------- Styles (inject once) ------------------------- */
  if (!document.getElementById('lcQuickFlowStyles')){
    const s = document.createElement('style');
    s.id = 'lcQuickFlowStyles';
    s.innerHTML = `
      #lcQuickFlowArea { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
      .lc-flow-btn { padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit; cursor:pointer; font-weight:600; box-shadow: 0 8px 18px rgba(2,6,23,0.18); transition: transform .12s ease, box-shadow .12s ease; }
      .lc-flow-btn:hover{ transform: translateY(-4px); box-shadow: 0 14px 30px rgba(2,6,23,0.24); }
      .lc-flow-btn.secondary{ background: rgba(255,255,255,0.03); }
      .lc-flow-meta { font-size:12px; color: var(--text-muted,#9aa4b2); margin-top:6px; }
      @media(max-width:640px){ .lc-flow-btn{ padding:9px 10px; font-size:14px; } }
    `;
    document.head.appendChild(s);
  }

  /* ------------------------- Flow definitions (editable) ------------------------- */
  // Each node returns reply text and next buttons mapping key -> {label, node}
  const FLOW = {
    root: {
      reply: "Welcome — choose one of the quick actions below to get started.",
      buttons: [
        { key: 'templates', label: 'Templates' },
        { key: 'pricing', label: 'Pricing' },
        { key: 'demo', label: 'Book Demo' },
        { key: 'contact', label: 'Contact Support' }
      ]
    },

    templates: {
      reply: "We have templates for different industries. Pick one:",
      buttons: [
        { key: 'templates_saas', label: 'SaaS' },
        { key: 'templates_ecom', label: 'E-commerce' },
        { key: 'templates_realestate', label: 'Real Estate' },
        { key: 'back_root', label: 'Back' }
      ]
    },
    templates_saas: {
      reply: "SaaS templates include onboarding, pricing, and product pages. Would you like to see examples or download a starter?",
      buttons: [
        { key: 'templates_show_examples', label: 'Show Examples' },
        { key: 'templates_download', label: 'Download Starter' },
        { key: 'templates', label: 'Back' }
      ]
    },
    templates_show_examples: {
      reply: "Examples: Product Showcase, Landing + Sign-up, Case Study. Visit the Templates section to preview them.",
      buttons: [
        { key: 'templates', label: 'Back to Templates' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    templates_download: {
      reply: "Starter package download is sent to your email when you request it — we will contact you to confirm. (No backend: this simulates an action.)",
      buttons: [
        { key: 'templates', label: 'Back to Templates' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    templates_ecom: {
      reply: "E-commerce templates focus on product pages, checkout flows and conversions. Want examples or pricing?",
      buttons: [
        { key: 'templates_show_examples', label: 'Examples' },
        { key: 'pricing', label: 'See Pricing' },
        { key: 'templates', label: 'Back' }
      ]
    },
    templates_realestate: {
      reply: "Real Estate templates optimized for listings and lead capture. Would you like a demo of these?",
      buttons: [
        { key: 'demo', label: 'Book Demo' },
        { key: 'templates', label: 'Back' }
      ]
    },

    pricing: {
      reply: "Our core plans — choose which one you want to inspect.",
      buttons: [
        { key: 'pricing_pro', label: 'Professional' },
        { key: 'pricing_ent', label: 'Enterprise' },
        { key: 'pricing_billing', label: 'Billing Options' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    pricing_pro: {
      reply: "Professional — $197/month (or $158/mo billed annually). Want to checkout or compare features?",
      buttons: [
        { key: 'pricing_checkout_pro_month', label: 'Buy Monthly' },
        { key: 'pricing_checkout_pro_annual', label: 'Buy Annual' },
        { key: 'pricing', label: 'Back' }
      ]
    },
    pricing_ent: {
      reply: "Enterprise — $497/month (or $398/mo billed annually). Contact sales for custom setup or request a quote.",
      buttons: [
        { key: 'contact_sales', label: 'Contact Sales' },
        { key: 'pricing', label: 'Back' }
      ]
    },
    pricing_billing: {
      reply: "Billing: Monthly or Annual (20% discount). Which billing cycle would you like?",
      buttons: [
        { key: 'pricing_pro_month', label: 'Professional - Monthly' },
        { key: 'pricing_pro_annual', label: 'Professional - Annual' },
        { key: 'pricing_ent_month', label: 'Enterprise - Monthly' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    pricing_checkout_pro_month: {
      reply: "Simulating checkout: Professional monthly selected. This would open PayPal in production.",
      buttons: [ { key: 'root', label: 'Main Menu' } ]
    },
    pricing_checkout_pro_annual: {
      reply: "Simulating checkout: Professional annual selected. This would open PayPal in production.",
      buttons: [ { key: 'root', label: 'Main Menu' } ]
    },
    contact: {
      reply: "Support is available 24/7. Choose an option:",
      buttons: [
        { key: 'contact_email', label: 'Email Support' },
        { key: 'contact_ticket', label: 'Open Ticket' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    contact_email: {
      reply: "Email us at support@landingcraft.com. Would you like to open the Contact section?",
      buttons: [
        { key: 'root', label: 'Main Menu' },
        { key: 'contact', label: 'Back' }
      ]
    },
    contact_ticket: {
      reply: "Opening ticket form... (simulated). Please provide your name and email in the form that appears.",
      // Here we will show a tiny inline form via special handling
      buttons: []
    },

    demo: {
      reply: "Booking a demo is quick. Pick a preferred time or request us to contact you.",
      buttons: [
        { key: 'demo_request', label: 'Request Demo' },
        { key: 'demo_contact', label: 'Contact Sales' },
        { key: 'root', label: 'Main Menu' }
      ]
    },
    demo_request: {
      reply: "Please provide your name and email in the form that appears (simulated).",
      buttons: []
    },
    demo_contact: {
      reply: "We will have a specialist reach out. Email sales@landingcraft.com or use Contact form.",
      buttons: [ { key: 'root', label: 'Main Menu' } ]
    },

    contact_sales: {
      reply: "Contact sales at sales@landingcraft.com. Want to create a lead request form now?",
      buttons: [ { key: 'root', label: 'Main Menu' } ]
    },

    // Back-handling
    back_root: { goto: 'root' }
  };

  /* ------------------------- Flow engine ------------------------- */
  let currentNode = 'root';

  function showNode(nodeKey){
    if (!nodeKey) nodeKey = 'root';
    // support simple redirect nodes:
    const node = FLOW[nodeKey] || null;
    if (!node) {
      renderMessage("Sorry — I don't have data for that action.", 'ai');
      renderButtons([]);
      return;
    }

    // if node is a redirect (goto)
    if (node.goto) return showNode(node.goto);

    // add AI reply
    renderMessage(node.reply, 'ai');

    // render buttons (if any)
    renderButtons(node.buttons || []);
    currentNode = nodeKey;

    // special-case forms for some nodes
    if (nodeKey === 'contact_ticket' || nodeKey === 'demo_request'){
      renderInlineForm(nodeKey);
    }
  }

  // create/replace quick-action button area
  function renderButtons(buttons){
    removeQuickArea();
    const footer = getFooter();
    let container;
    if (footer){
      container = document.createElement('div');
      container.id = 'lcQuickFlowArea';
      footer.appendChild(container);
    } else {
      // fallback: append to chat body
      const body = getBody();
      if (!body) return;
      container = document.createElement('div');
      container.id = 'lcQuickFlowArea';
      body.appendChild(container);
    }

    if (!buttons.length){
      const hint = document.createElement('div');
      hint.className = 'lc-flow-meta';
      hint.textContent = 'No actions available. Use the main menu.';
      container.appendChild(hint);
      // add a Main Menu button
      const m = document.createElement('button');
      m.className = 'lc-flow-btn secondary';
      m.innerText = 'Main Menu';
      m.addEventListener('click', ()=>{ userClick('root'); });
      container.appendChild(m);
      return;
    }

    buttons.forEach(b => {
      const btn = document.createElement('button');
      btn.className = 'lc-flow-btn';
      btn.innerText = b.label;
      btn.addEventListener('click', ()=> userClick(b.key, b.label));
      container.appendChild(btn);
    });
  }

  // user "clicks" a flow button -> show user bubble and then progress
  function userClick(key, label){
    const node = FLOW[key];
    const userText = label || (node && node.label) || (key || '');
    renderMessage(userText, 'user');

    // short simulated delay then proceed
    setTimeout(()=> {
      // If the node is a special redirect
      if (node && node.goto) return showNode(node.goto);
      // If the node exists, show it
      if (node) return showNode(key);
      // If unknown key, respond with fallback
      renderMessage("I didn't understand that selection. Returning to main menu.", 'ai');
      renderButtons(FLOW.root.buttons);
      currentNode = 'root';
    }, 350 + Math.random()*300);
  }

  // render small inline form into the chat body
  function renderInlineForm(nodeKey){
    const body = getBody();
    if (!body) return;
    // create panel
    const wrap = document.createElement('div');
    wrap.style.marginTop = '8px';
    wrap.style.padding = '12px';
    wrap.style.borderRadius = '10px';
    wrap.style.background = 'rgba(255,255,255,0.02)';
    wrap.style.boxShadow = '0 8px 18px rgba(2,6,23,0.12)';

    const form = document.createElement('form');
    form.style.display = 'grid';
    form.style.gap = '8px';

    const name = document.createElement('input');
    name.placeholder = 'Full name';
    name.required = true;
    name.style.padding = '8px'; name.style.borderRadius='8px'; name.style.border='1px solid rgba(255,255,255,0.06)';

    const email = document.createElement('input');
    email.placeholder = 'Email';
    email.type = 'email';
    email.required = true;
    email.style.padding = '8px'; email.style.borderRadius='8px'; email.style.border='1px solid rgba(255,255,255,0.06)';

    const submit = document.createElement('button');
    submit.type = 'submit';
    submit.className = 'lc-flow-btn';
    submit.innerText = 'Send Request';

    const cancel = document.createElement('button');
    cancel.type = 'button';
    cancel.className = 'lc-flow-btn secondary';
    cancel.innerText = 'Cancel';
    cancel.addEventListener('click', ()=>{ wrap.remove(); renderButtons(FLOW.root.buttons); });

    form.appendChild(name);
    form.appendChild(email);
    const actions = document.createElement('div');
    actions.style.display='flex'; actions.style.gap='8px';
    actions.appendChild(cancel); actions.appendChild(submit);
    form.appendChild(actions);

    form.addEventListener('submit', function(e){
      e.preventDefault();
      const data = { name: name.value.trim(), email: email.value.trim(), node: nodeKey };
      // simulate server action
      renderMessage('Thanks — we received your request. Our team will reach out shortly.', 'ai');
      wrap.remove();
      renderButtons(FLOW.root.buttons);
      console.log('Simulated form submission', data);
    });

    wrap.appendChild(form);
    body.appendChild(wrap);
    body.scrollTop = body.scrollHeight;
  }

  /* ------------------------- Initialization ------------------------- */
  function initFlow(){
    // add welcome if none
  // ----- Close / open helpers (add these near your other helpers) -----
function getCloseBtn(){
  return $id('lcClose') || qs('.lc-close-btn, #lcCloseBtn, .lc-panel-close');
}

function closeChatPanel(persist = true){
  const panel = getPanel();
  if (!panel) return;
  // immediate hide (works even if widget doesn't use .hidden)
  panel.style.display = 'none';
  panel.classList.add('hidden'); // keep this for widgets that use .hidden class
  if (persist && window.localStorage) localStorage.setItem('lcChatClosed', '1');
}

function openChatPanel(clearPersist = true){
  const panel = getPanel();
  if (!panel) return;
  panel.style.display = ''; // reset so CSS can control visibility again
  panel.classList.remove('hidden');
  if (clearPersist && window.localStorage) localStorage.removeItem('lcChatClosed');
}

// ----- Hook into initFlow (inside initFlow() after panel open code) -----
(function wireCloseAndPersist(){
  const closeBtn = getCloseBtn();
  const toggle = getToggle();

  // If user previously closed the chat, keep it closed on load
  try {
    if (window.localStorage && localStorage.getItem('lcChatClosed')) {
      closeChatPanel(false); // already closed -> don't re-persist
    }
  } catch(e){ /* ignore storage errors */ }

  if (closeBtn){
    closeBtn.addEventListener('click', function(e){
      e.preventDefault();
      closeChatPanel(true);
    });
  }

  // Make toggle reopen the panel and clear the persisted closed state
  if (toggle){
    toggle.addEventListener('click', function(e){
      // If panel is hidden, open it. If open, you may want to toggle as before.
      const panel = getPanel();
      if (panel && (panel.classList.contains('hidden') || panel.style.display === 'none')){
        openChatPanel(true);
      } else {
        // default toggle behavior (if you prefer close on toggle too)
        // closeChatPanel(true);
        openChatPanel(true); // keep it simple — clicking toggle always ensures open
      }
    });
  }
})();
  const body = getBody();
    if (!body) return console.warn('chat-flow: chat body not found; ensure chat widget exists before loading this script.');
    // open chat panel when injected
    const panel = getPanel();
    if (panel && panel.classList.contains('hidden')) panel.classList.remove('hidden');
    // first show root AI reply + buttons
    renderMessage(FLOW.root.reply, 'ai');
    renderButtons(FLOW.root.buttons);

    // Keep existing send/enter flow functional: if user types, treat as typed message
    const input = $id('lcChatInput') || qs('.lc-input, #lcChatInput');
    const sendBtn = $id('lcSendBtn') || qs('.lc-send-btn, #lcSendBtn');
    if (input){
      input.addEventListener('keydown', function(e){
        if (e.key === 'Enter' && !e.shiftKey){
          e.preventDefault();
          const txt = input.value.trim();
          if (!txt) return;
          renderMessage(txt, 'user');
          // send to existing handlers if present, else fallback localAnswer
          if (window.lcChat && typeof window.lcChat.receiveFromUI === 'function'){
            window.lcChat.receiveFromUI(txt, { onReply: (r)=> renderMessage(r,'ai') });
          } else if (typeof processUserMessage === 'function'){
            try{ const r = processUserMessage(txt); renderMessage(r || 'Thanks — we received your message.','ai'); } catch(e){ renderMessage(localAnswer(txt),'ai'); }
          } else {
            renderMessage(localAnswer(txt),'ai');
          }
          input.value = '';
          // refresh main buttons afterward
          removeQuickArea(); renderButtons(FLOW.root.buttons);
        }
      });
    }
    if (sendBtn){
      sendBtn.addEventListener('click', function(){
        const txt = input && input.value.trim();
        if (!txt) return;
        renderMessage(txt,'user');
        if (window.lcChat && typeof window.lcChat.receiveFromUI === 'function'){
          window.lcChat.receiveFromUI(txt, { onReply: (r)=> renderMessage(r,'ai') });
        } else if (typeof processUserMessage === 'function'){
          try{ const r = processUserMessage(txt); renderMessage(r || 'Thanks — we received your message.','ai'); } catch(e){ renderMessage(localAnswer(txt),'ai'); }
        } else {
          renderMessage(localAnswer(txt),'ai');
        }
        if (input) input.value = '';
        removeQuickArea(); renderButtons(FLOW.root.buttons);
      });
    }
  }

  // Expose for debugging
  window.lcMenuFlow = { showNode, userClick, initFlow, FLOW };

  // Auto init after DOM ready (idempotent)
  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', initFlow);
  } else {
    initFlow();
  }

})();

(function(){
  const FOOTER = document.querySelector('.footer');
  if (!FOOTER) return;

  function getNavOffset() {
    const nav = document.getElementById('navbar') || document.querySelector('.navbar');
    return (nav && nav.offsetHeight) ? nav.offsetHeight + 12 : 92; // default offset if no navbar
  }

  function smoothScrollToId(id, updateHash = true) {
    if (!id) return false;
    const target = document.getElementById(id);
    if (!target) {
      // fallback: try named anchors or log and return
      console.warn('smoothScrollToId: no element with id', id);
      return false;
    }
    const offset = getNavOffset();
    const top = Math.max(target.getBoundingClientRect().top + window.pageYOffset - offset, 0);
    window.scrollTo({ top, behavior: 'smooth' });

    // After a short delay, move focus for accessibility
    setTimeout(() => {
      // ensure element is focusable
      const prevTab = target.getAttribute('tabindex');
      if (prevTab === null) target.setAttribute('tabindex', '-1');
      try { target.focus({preventScroll: true}); } catch(e) { target.focus(); }
      if (prevTab === null) target.removeAttribute('tabindex');
    }, 600);

    // update URL hash without jumping
    if (updateHash && history && history.replaceState) {
      try {
        history.replaceState(null, '', '#' + id);
      } catch (e) { /* ignore */ }
    }
    return true;
  }

  // parse "onclick" attribute for calls like scrollToSection('templates') or filterTemplates('saas')
  function parseOnclickForAction(onclick) {
    if (!onclick) return null;
    // scrollToSection('templates')
    let m = onclick.match(/scrollToSection\(\s*['"]?([\w-]+)['"]?\s*\)/i);
    if (m) return { type: 'scrollToSection', id: m[1] };
    // filterTemplates('saas')
    m = onclick.match(/filterTemplates\(\s*['"]?([\w-]+)['"]?\s*\)/i);
    if (m) return { type: 'filterTemplates', category: m[1] };
    return null;
  }

  // Global click handler for footer links
  FOOTER.addEventListener('click', function(ev){
    const anchor = ev.target.closest('a');
    if (!anchor) return;

    const href = anchor.getAttribute('href') || '';
    const onclick = anchor.getAttribute('onclick') || '';

    // 1) If href is an internal hash -> smooth scroll
    if (href.startsWith('#') && href.length > 1) {
      ev.preventDefault();
      const id = href.slice(1);
      // call potential existing scrollToSection if defined (keeps compatibility)
      if (typeof window.scrollToSection === 'function') {
        try {
          window.scrollToSection(id);
          // ensure a smooth fallback if existing func didn't (safety)
          setTimeout(() => smoothScrollToId(id), 50);
        } catch (e) {
          smoothScrollToId(id);
        }
      } else {
        smoothScrollToId(id);
      }
      return;
    }

    // 2) If onclick contains known helper calls
    if (onclick) {
      const action = parseOnclickForAction(onclick);
      if (action) {
        ev.preventDefault();

        if (action.type === 'scrollToSection') {
          // call existing handler if present, else smooth scroll
          if (typeof window.scrollToSection === 'function') {
            try {
              window.scrollToSection(action.id);
              setTimeout(() => smoothScrollToId(action.id), 50);
            } catch (e) { smoothScrollToId(action.id); }
          } else {
            smoothScrollToId(action.id);
          }
          return;
        }

        if (action.type === 'filterTemplates') {
          // call filterTemplates(category) then scroll to #templates
          if (typeof window.filterTemplates === 'function') {
            try {
              window.filterTemplates(action.category);
            } catch (e) {
              console.warn('filterTemplates threw:', e);
            }
          } else {
            // fallback: set a data-filter active button (if any)
            const btn = document.querySelector(`.filter-btn[data-filter="${action.category}"]`);
            if (btn) btn.click();
          }
          // then scroll to templates section
          setTimeout(() => {
            if (!smoothScrollToId('templates')) {
              // fallback: try scrolling to top of templates container by selector
              const alt = document.querySelector('#templates, .templates, [data-section="templates"]');
              if (alt) {
                const offset = getNavOffset();
                const top = Math.max(alt.getBoundingClientRect().top + window.pageYOffset - offset, 0);
                window.scrollTo({ top, behavior: 'smooth' });
              }
            }
          }, 80);
          return;
        }
      }
    }

    // otherwise: no special handling (allow link to proceed)
  }, { passive: false });

  // Also handle direct calls to window.scrollToSection by overriding it to ensure smooth behavior
  if (typeof window.scrollToSection === 'function') {
    const orig = window.scrollToSection;
    window.scrollToSection = function(id){
      try {
        // prefer original behavior (in case it does other work), but ensure smooth scroll
        orig(id);
        // If original doesn't perform a smooth scroll to the element, enforce it
        setTimeout(() => smoothScrollToId(id), 60);
      } catch (e) {
        smoothScrollToId(id);
      }
    };
  } else {
    // define it for compatibility with existing markup calling scrollToSection(...)
    window.scrollToSection = smoothScrollToId;
  }

})();
</script>
</body>
</html>
          
